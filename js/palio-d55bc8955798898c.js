(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5529],{13118:function(e,t,n){"use strict";var r=n(97582),i=n(67294),a=n(83204),o=n(52982),s=function(){return o.Z?document.visibilityState:"visible"};t.Z=function(){var e=(0,r.__read)((0,i.useState)((function(){return s()})),2),t=e[0],n=e[1];return(0,a.Z)("visibilitychange",(function(){n(s())}),{target:function(){return document}}),t}},39498:function(e,t,n){"use strict";var r=n(64836);t.Z=void 0;var i=n(67294),a=r(n(70717)),o=n(51390),s=function(e,t,n){void 0===n&&(n={});var r=(0,a.default)(e),s=(0,i.useRef)(null),l=(0,i.useCallback)((function(){s.current&&clearInterval(s.current)}),[]);return(0,i.useEffect)((function(){if((0,o.isNumber)(t)&&!(t<0))return n.immediate&&r(),s.current=setInterval(r,t),l}),[t,n.immediate]),l};t.Z=s},70717:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(18698)),a=n(67294),o=n(51390),s=r(n(526));var l=function(e){s.default&&((0,o.isFunction)(e)||console.error("useMemoizedFn expected parameter is a function, got ".concat((0,i.default)(e))));var t=(0,a.useRef)(e);t.current=(0,a.useMemo)((function(){return e}),[e]);var n=(0,a.useRef)();return n.current||(n.current=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(this,e)}),n.current};t.default=l},51390:function(e,t,n){"use strict";var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.isUndef=t.isString=t.isObject=t.isNumber=t.isFunction=t.isBoolean=void 0;var i=r(n(18698));t.isObject=function(e){return null!==e&&"object"===(0,i.default)(e)};t.isFunction=function(e){return"function"===typeof e};t.isString=function(e){return"string"===typeof e};t.isBoolean=function(e){return"boolean"===typeof e};t.isNumber=function(e){return"number"===typeof e};t.isUndef=function(e){return"undefined"===typeof e}},526:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=false},48362:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/activities/palio",function(){return n(77146)}])},77146:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return sr}});var r,i,a=n(85893),o=n(68391),s=n(10253),l=n(22821),c=n(21455),u=n(94184),d=n.n(u),p=n(44982),f=n(31156),x=n(49574),m=n(47568),h=n(26042),v=n(69396),g=n(34051),b=n.n(g),w=n(9496),j=n(13118),C=n(69637),y=n(67294),_=n(19848),N=n(14924);!function(e){e[e.NotLogin=0]="NotLogin",e[e.UnClaimed=1]="UnClaimed",e[e.Claimed=2]="Claimed",e[e.NotSelected=3]="NotSelected",e[e.SelectDone=4]="SelectDone",e[e.Minted=5]="Minted",e[e.UnClaimedEnded=6]="UnClaimedEnded",e[e.UnQualifiedEnded=7]="UnQualifiedEnded",e[e.NotLoginEnded=8]="NotLoginEnded"}(r||(r={})),function(e){e[e.food=1]="food",e[e.clean=2]="clean",e[e.music=3]="music"}(i||(i={}));var k,F,L=.01,Z=(k={},(0,N.Z)(k,r.NotLogin,{normal:"/images/palio/egg-mp4/Idle_Egg_Unclaimed.mp4",vip:"/images/palio/egg-mp4/Idle_Egg_Unclaimed.mp4"}),(0,N.Z)(k,r.UnClaimed,{normal:"/images/palio/egg-mp4/Idle_Egg_Unclaimed.mp4",vip:"/images/palio/egg-mp4/Idle_Egg_Unclaimed.mp4"}),(0,N.Z)(k,r.Claimed,{normal:"/images/palio/egg-mp4/Idle_Egg_Claimed.mp4",vip:"/images/palio/egg-mp4/Idle_GoldenEgg_Claimed.mp4"}),(0,N.Z)(k,r.NotSelected,{normal:"/images/palio/egg-mp4/Idle_Egg_Hatchable.mp4",vip:"/images/palio/egg-mp4/Idle_GoldenEgg_Hatchable.mp4"}),(0,N.Z)(k,r.SelectDone,{normal:"/images/palio/egg-mp4/Idle_Egg_Unclaimed.mp4",vip:"/images/palio/egg-mp4/Idle_Egg_Unclaimed.mp4"}),(0,N.Z)(k,r.Minted,{normal:"/images/palio/egg-mp4/Idle_Egg_Unclaimed.mp4",vip:"/images/palio/egg-mp4/Idle_Egg_Unclaimed.mp4"}),(0,N.Z)(k,r.UnClaimedEnded,{normal:"/images/palio/egg-mp4/Event_End.mp4",vip:"/images/palio/egg-mp4/Event_End.mp4"}),(0,N.Z)(k,r.UnQualifiedEnded,{normal:"/images/palio/egg-mp4/Event_End.mp4",vip:"/images/palio/egg-mp4/Event_End.mp4"}),(0,N.Z)(k,r.NotLoginEnded,{normal:"/images/palio/egg-mp4/Event_End.mp4",vip:"/images/palio/egg-mp4/Event_End.mp4"}),k),E=function(e,t,n){var r=(0,y.useRef)(),i=(0,y.useCallback)((function(){var e,n;r&&(t&&(null===(e=r.current)||void 0===e||e.unobserve(t)),null===(n=r.current)||void 0===n||n.disconnect())}),[t]);return(0,y.useLayoutEffect)((function(){if(t){i();var a=new IntersectionObserver((function(t){e(null===t||void 0===t?void 0:t[0])}),n);t&&a.observe(t),r.current=a}}),[e,i,n,t]),{cleanup:i}},S=n(31955),B=n(2593),I=n(39917),A=n(85582),M=function(){var e=(0,m.Z)(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,A.u)(t,n,I.l0),e.next=4,i.eggClaimed(r);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),console.error("fetchEggClaimed error",e.t0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),P=function(){var e=(0,m.Z)(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,A.u)(t,n,I.l0),e.next=3,i.claimedUtilitiesTodayBatch(r,[1,2,3]);case 3:return a=e.sent,o=a.map((function(e,t){return e.toNumber()})),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),O=function(){var e=(0,m.Z)(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,A.u)(t,n,I.l0),e.next=3,i.checkChatNFTClaimStatusBatch(r);case 3:return a=e.sent,o=null!==a&&void 0!==a?a:Array(4).fill(!1),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),T=function(){var e=(0,m.Z)(b().mark((function e(t,n,r){var i,a,o,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(0,A.u)(t,n,I.l0),e.next=4,i.checkChapterStatus(r);case 4:return a=e.sent,o=a.chatNFTClaimedStatus,s=a.boostedStatus,e.abrupt("return",{chatNFTClaimed:o,boosted:s});case 9:return e.prev=9,e.t0=e.catch(0),console.error("fetchChapterStatus error",e.t0),e.abrupt("return",{chatNFTClaimed:!1,boostedStatus:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),R=function(){var e=(0,m.Z)(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,A.u)(t,n,I.l0),e.next=3,i.regenerated(r);case 3:return a=e.sent,e.abrupt("return",B.O$.from(a).toNumber());case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function D(){return z.apply(this,arguments)}function z(){return(z=(0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("/palio/v1/config").catch((function(e){return{current:999,current_day:-1,list:[],palio_network:p.CF.SEPOLIA,palio_stars:[],network:p.CF.XTERIO_TESTNET,contract:{PalioIncubator:"",PalioVoter:""},error:!0}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return G.apply(this,arguments)}function G(){return(G=(0,m.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("/palio/v1/user/".concat(t,"/invite/code")).catch((function(e){return{code:"",activate_code:""}}));case 2:return n=e.sent,e.abrupt("return",{inviteCode:null===n||void 0===n?void 0:n.code,activate_code:null===n||void 0===n?void 0:n.activate_code});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return V.apply(this,arguments)}function V(){return(V=(0,m.Z)(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.UT)("/palio/v1/user/".concat(t,"/prop"),{prop_id:n}).catch((function(e){return!0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.Selected=1]="Selected",e[e.Alternative=2]="Alternative",e[e.Eliminated=3]="Eliminated",e[e.Minting=4]="Minting",e[e.Minted=5]="Minted"}(F||(F={}));!function(){var e=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("/palio/v1/user/".concat(t,"/season"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}();function H(){return H=(0,m.Z)(b().mark((function e(t){var n,r,i,a,o,l,c,u,d,p,f;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:if(n=e.sent,t){e.next=5;break}return e.abrupt("return",{vip:!1,address:"",eggClaimed:void 0,chatNFTClaimed:!1,inviteCode:"",activate_code:"",config:n,palioPointInfo:{},palioEggInfo:{}});case 5:return e.t0=s.Z,e.next=8,Promise.all([(0,_.pv)("/palio/v1/user/".concat(t,"/incubation")).catch((function(e){return{}})),(0,_.pv)("/palio/v1/user/".concat(t,"/point")).catch((function(e){return{}})),U(t),M(n.network,n.contract.PalioIncubator,t),T(n.network,n.contract.PalioIncubator,t)]);case 8:return e.t1=e.sent,r=(0,e.t0)(e.t1,5),i=r[0],a=r[1],o=r[2],l=o.inviteCode,c=o.activate_code,u=r[3],d=r[4],p=d.chatNFTClaimed,f=d.boosted,e.abrupt("return",{vip:f,palioEggInfo:i,palioPointInfo:a,config:n,inviteCode:l,activate_code:c,eggClaimed:u,chatNFTClaimed:p,address:t});case 20:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function $(e){return q.apply(this,arguments)}function q(){return(q=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{max_score:0,boost:0,retry:0});case 2:return e.next=4,(0,_.pv)("/palio/v1/user/".concat(t,"/chat")).catch((function(e){return{max_score:0,boost:0,retry:0}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t,n,r){return X.apply(this,arguments)}function X(){return X=(0,m.Z)(b().mark((function e(t,n,r,i){var a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new TextDecoder("utf-8"),o=S.Z.get("_id_token")||"",t||i({error:!0}),fetch("".concat(t,"?address=").concat(n),{method:"POST",headers:{Authorization:o},body:JSON.stringify({answer:r})}).then((function(e){var t,n=null===(t=e.body)||void 0===t?void 0:t.getReader();if(n)return n.read().then((function e(t){var r=t.done,o=t.value,s=a.decode(o).split("\n").filter((function(e){return!!e})),l=s[s.length-1]||s[0];if(console.log("process 1111",l,r,o,s),o){try{var c=JSON.parse(l);if(i(c),c.finish)return;console.log("process 1112",JSON.parse(l.replaceAll("\n","")))}catch(de){console.log("process 1113",de,l)}if(!r)return n.read().then(e)}}))})).catch(console.error);case 4:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.UT)("/palio/v1/user/".concat(t,"/chat/retry"),{}).catch((function(e){return!0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return ee.apply(this,arguments)}function ee(){return(ee=(0,m.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.UT)("/palio/v1/user/".concat(t,"/incubation"),{}).catch((function(e){return{error:!0}}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=(0,m.Z)(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.UT)("/palio/v1/user/".concat(t,"/incubation/select"),{nft_id:n}).catch((function(e){return!0}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=(0,m.Z)(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.UT)("/palio/v1/user/".concat(t,"/incubation/mint"),{nft_id:n}).catch((function(e){}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=n(29815);var oe=n(57495),se=n(97582);var le=function(e,t){var n=(0,se.__read)((0,y.useState)(e),2),r=n[0],i=n[1],a=(0,c.Z)((function(){i(e)}),t).run;return(0,y.useEffect)((function(){a()}),[e]),r},ce=n(8527),ue=n(17533),de=n(310),pe=n(43241),fe=n(1964),xe=n(11116),me=(0,y.createContext)({loading:!0,isPortalShow:!1,eggStatus:r.NotLogin,showChat:!0,setPortalShow:function(){return null},onConnectItem:function(){return Promise.resolve()},onClose:function(){return null}}),he=function(e){var t,n,i=e.children,u=function(){var e,t=(0,oe.K)(),n=t.account,r=t.library,i=(0,fe.Z)().linkWithAutoSwitch,c=(0,o.bN)().userInfo,u=(0,y.useState)(""),d=u[0],p=u[1],f=(0,y.useState)(""),x=f[0],h=f[1],v=(0,s.Z)((0,l.Z)(),2),g=v[0],w=v[1],j=c.wallet,C=(void 0===j?[]:j).filter((function(e){return 0===e.source})),N=le(n,{wait:100,leading:!1}),k=!(null===(e=C.find((function(e){return e.address===N})))||void 0===e?void 0:e.address),F=C.find((function(e){return e.address===N})),L=(0,o.rK)(),Z=(0,o.bN)().signInModalState,E=(0,o.bN)().login,S=(0,pe.lm)().noti,B=(0,y.useCallback)((function(){w.setFalse(),p(""),h("")}),[w]),I=(0,y.useCallback)(function(){var e=(0,m.Z)(b().mark((function e(t,n){var i,o,s,l,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("/account/v1/login/wallet/".concat(t)).catch((function(){return{message:""}}));case 2:if(!(i=e.sent.message)){e.next=22;break}return s=null===(o=r)||void 0===o?void 0:o.getSigner(),e.next=8,null===s||void 0===s?void 0:s.signMessage(i).catch((function(e){return S("error","You declined the action in your wallet."),null}));case 8:if(!(l=e.sent)){e.next=20;break}return e.next=12,(0,ue.$o)({wallet:t,sign:l,provider:n});case 12:if(c=e.sent,(0,de.hF)(c)){e.next=20;break}return e.next=17,E(c);case 17:return localStorage.setItem("isNew",String(c.is_new||"")),S("success",c.is_new?"You have joined Xterio! Start your journey of exploration.":"Sign in successful, welcome back to Xterio.",{icon:(0,a.jsx)(xe.ACQ,{className:"text-xwhite",size:24}),title:c.is_new?"Congratulations!":"Welcome back!"}),e.abrupt("return",Z.closeLoginModal());case 20:e.next=23;break;case 22:S("error","Unknown error, please try again later.");case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[r,E,S,Z]),A=(0,y.useCallback)(function(){var e=(0,m.Z)(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:if(p(t),!(r=L[t])){e.next=21;break}return e.next=8,r().catch((function(){return""}));case 8:if(a=e.sent.toUpperCase()){e.next=13;break}return h(""),p(""),e.abrupt("return");case 13:if(!a||c.isLogin){e.next=18;break}return e.next=16,I(a,n);case 16:e.next=21;break;case 18:if(!a||(null===(i=C.find((function(e){return e.address.toUpperCase()===a})))||void 0===i?void 0:i.address)){e.next=21;break}return h(a),e.abrupt("return");case 21:B();case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[I,C,d,B,c.isLogin,L]);return(0,ce.Z)((function(){x&&k&&c.isLogin&&i().then((function(e){var t;e?B():null===(t=L.onDisconnectBtnClicked)||void 0===t||t.call(L)})).finally((function(){p(""),h("")}))}),[x,k,c.isLogin],{wait:500,leading:!1}),{account:N&&!k?N:"",accountWallet:F,onConnectItem:A,setPortalShow:w.setTrue,onClose:B,loadingKey:d,isPortalShow:g}}(),d=u.isPortalShow,p=u.setPortalShow,f=u.onConnectItem,x=u.onClose,g=u.loadingKey,N=u.account,k=u.accountWallet,F=(0,w.Z)((function(){return function(e){return H.apply(this,arguments)}(N)}),{manual:!0}),L=F.data,S=F.run,B=F.mutate,I=L||{},A=I.palioEggInfo,M=void 0===A?{}:A,P=I.eggClaimed,O=I.inviteCode,T=void 0===O?"":O,R=I.activate_code,D=void 0===R?"":R,z=I.palioPointInfo,U=void 0===z?{}:z,G=I.vip,W=I.chatNFTClaimed,V=(null===L||void 0===L?void 0:L.config)||{},q=(0,j.Z)(),X=(0,y.useState)(!1),Q=X[0],J=X[1];(0,y.useEffect)((function(){S()}),[N,S]);var ee=(0,y.useState)([]),te=ee[0],ne=ee[1],re=function(){var e=(0,y.useRef)(null),t=(0,y.useRef)(null),n=(0,y.useRef)(null),r=(0,y.useRef)(null),i=(0,y.useRef)(null),a=(0,y.useState)(0),o=a[0],s=a[1],l=(0,y.useMemo)((function(){return[{id:"pet",title:"Meet Your Anima"},{id:"chat",title:"Chat Up With Palio"},{id:"quest",title:"Quest"},{id:"vote",title:"Vote For Palio Star"}]}),[]),u=(0,c.Z)((function(e){if(!p.current){var a=d.current,o="";e.target===t.current?o="pet":e.target===n.current?o="chat":e.target===r.current?o="quest":e.target===i.current&&(o="vote"),o&&e.isIntersecting&&!a.includes(o)?a.push(o):o&&!e.isIntersecting&&a.includes(o)&&a.splice(a.indexOf(o),1),d.current=a,m()}}),{wait:0}).run,d=(0,y.useRef)([]),p=(0,y.useRef)(!1),f=(0,y.useRef)(null);E(u,t.current,{threshold:.5}),E(u,n.current,{threshold:.5}),E(u,r.current,{threshold:.5}),E(u,i.current,{threshold:.5});var x=(0,y.useCallback)((function(e){var a;if(f.current&&clearTimeout(f.current),p.current=!0,"pet"===e)null===(a=t.current)||void 0===a||a.scrollIntoView({behavior:"smooth"}),s(0);else if("chat"===e){var o;null===(o=n.current)||void 0===o||o.scrollIntoView({behavior:"smooth"}),s(1)}else if("quest"===e){var l;null===(l=r.current)||void 0===l||l.scrollIntoView({behavior:"smooth"}),s(2)}else if("vote"===e){var c;null===(c=i.current)||void 0===c||c.scrollIntoView({behavior:"smooth"}),s(3)}f.current=setTimeout((function(){p.current=!1}),1e3)}),[]),m=(0,y.useCallback)((function(){if(!p.current){var e=d.current;e.includes("pet")?s(0):e.includes("chat")?s(1):e.includes("quest")?s(2):e.includes("vote")&&s(3)}}),[]);return{navIndex:o,navData:l,scrollToView:x,refs:{root:e,pet:t,chat:n,quest:r,vote:i}}}(),ie=function(){var e=(0,s.Z)((0,l.Z)(),2),t=e[0],n=e[1],r=(0,s.Z)((0,l.Z)(),2),i=r[0],a=r[1],o=(0,s.Z)((0,l.Z)(),2),c=o[0],u=o[1],d=(0,s.Z)((0,l.Z)(),2),p=d[0],f=d[1];return{isPointFriendShow:c,onOpenPointFriend:u.setTrue,onClosePointFriend:u.setFalse,isPointRankShow:i,onOpenPointRank:a.setTrue,onClosePointRank:a.setFalse,isPointDashShow:t,onOpenPointDash:n.setTrue,onClosePointDash:n.setFalse,isBridgeShow:p,onOpenBridge:f.setTrue,onCloseBridge:f.setFalse}}(),se=(0,y.useState)(!0),he=se[0],ve=se[1],be=(0,y.useState)(!1),we=be[0],je=be[1],Ce=(0,y.useState)(),ye=Ce[0],_e=Ce[1],Ne=(0,y.useState)(!1),ke=Ne[0],Fe=Ne[1],Le=V.list,Ze=void 0===Le?[]:Le,Ee=V.current,Se=V.current_day,Be=V.network,Ie=V.palio_network,Ae=V.palio_stars,Me=V.contract,Pe=(0,y.useMemo)((function(){var e,t;return ge(Ee,N,null===(e=M.palio_nft)||void 0===e||null===(t=e.active)||void 0===t?void 0:t.status,M.incubate_allowed,P,ye)}),[Ee,N,null===(t=M.palio_nft)||void 0===t||null===(n=t.active)||void 0===n?void 0:n.status,M.incubate_allowed,P,ye]),Oe=(0,y.useMemo)((function(){return Ee>Ze.length}),[Ee,Ze]);(0,y.useEffect)((function(){!Q&&ne((function(e){var t,n;return[G?null===(t=Z[Pe])||void 0===t?void 0:t.vip:null===(n=Z[Pe])||void 0===n?void 0:n.normal]}))}),[null===L||void 0===L?void 0:L.address,Pe,G,N,Q]),(0,y.useEffect)((function(){ne((function(e){var t;return!e[0]||(null===(t=e[0])||void 0===t?void 0:t.endsWith("Claimed.mp4"))?[Z[r.Claimed][G?"vip":"normal"]]:e}))}),[G]),(0,y.useEffect)((function(){J(!!(null===L||void 0===L?void 0:L.address))}),[L]),(0,y.useEffect)((function(){void 0!=(null===L||void 0===L?void 0:L.eggClaimed)&&ve(!1)}),[null===L||void 0===L?void 0:L.eggClaimed]),(0,C.Z)((function(){""==N&&(null===L||void 0===L?void 0:L.config.network)&&ve(!1)}),2e3),(0,C.Z)((function(){ve(!1)}),8e3),(0,C.Z)(S,M.seconds_to_next_chapter&&M.seconds_to_next_chapter>0&&"visible"===q?1e3*M.seconds_to_next_chapter:void 0);var Te,Re,De=function(e,t,n,i,a,o){var c=(0,w.Z)((function(){return $(e)}),{manual:!0}),u=c.data,d=c.run,p=c.mutate,f=(0,j.Z)(),x=(0,y.useState)(""),h=x[0],v=x[1],g=(0,y.useState)(),_=g[0],N=g[1],k=(0,y.useState)(""),F=k[0],L=k[1],Z=(0,s.Z)((0,l.Z)(),2),E=Z[0],S=Z[1];(0,y.useEffect)((function(){r.Claimed===a&&d()}),[e,a,d]),(0,C.Z)(d,o&&o>0&&"visible"===f?1e3*o:void 0),(0,y.useEffect)((function(){var e,t,n=(null===u||void 0===u||null===(e=u.answer)||void 0===e||null===(t=e.answer)||void 0===t?void 0:t[0])||{},r=n.answer,i=n.score,a=n.reply;v(r||""),N(i),L(a||"")}),[u]);var B=(0,y.useCallback)(function(){var r=(0,m.Z)(b().mark((function r(a){return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&a){r.next=2;break}return r.abrupt("return");case 2:return S.setTrue(),v(a),t(n?function(e){return(0,ae.Z)(e).concat(["/images/palio/egg-mp4/Idle_GoldenEgg_Chatting.mp4","/images/palio/egg-mp4/Idle_GoldenEgg_Claimed.mp4"])}:function(e){return(0,ae.Z)(e).concat(["/images/palio/egg-mp4/Idle_Egg_Chatting.mp4","/images/palio/egg-mp4/Idle_Egg_Claimed.mp4"])}),r.next=7,K(i,e,a,(function(e){var t=e.content,n=void 0===t?"":t,r=e.score,i=e.final,a=e.error;L(n),a&&(v(""),L(""),S.setFalse()),i&&setTimeout((function(){N(r||0),S.setFalse(),L(n),d()}),50)}));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[S,e,i,d,t,n]),I=function(){var t=(0,m.Z)(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e);case 2:d();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=((null===u||void 0===u?void 0:u.answer)||{}).question,M=void 0===A?"":A,P=u||{},O=P.max_score,T=void 0===O?0:O,R=P.boost,D=P.retry,z=void 0===D?0:D;return{question:M,max_score:Math.max(T,_||0),boost:R,limit:z,answer:h,score:_,reply:F,loading:E,Action:S,retry:I,submit:B,mutate:p,refreshChatInfo:d}}(N,ne,!!G,V.chat_api||"",Pe,M.seconds_to_next_chapter),ze=(0,y.useCallback)((0,m.Z)(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("/palio/v1/user/".concat(N,"/incubation")).catch((function(e){return{}}));case 2:t=e.sent,B((function(e){return(0,v.Z)((0,h.Z)({},e||{}),{palioEggInfo:t})}));case 4:case"end":return e.stop()}}),e)}))),[N,B]),Ue=(0,y.useCallback)((0,m.Z)(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("/palio/v1/user/".concat(N,"/point")).catch((function(e){return{}}));case 2:t=e.sent,B((function(e){return(0,v.Z)((0,h.Z)({},e||{}),{palioPointInfo:t})}));case 4:case"end":return e.stop()}}),e)}))),[N,B]);return console.log("eggStatus",N,Pe),(0,a.jsx)(me.Provider,{value:(0,v.Z)((0,h.Z)({vip:G,aiChatState:De,generateIng:ke,eggClaimed:P,chatNFTClaimed:W,playArr:te,palio_network:Ie,palio_stars:Ae,network:Be,palio_incubator_contract_address:null!==(Te=null===Me||void 0===Me?void 0:Me.PalioIncubator)&&void 0!==Te?Te:"",palio_voter_contract_address:null!==(Re=null===Me||void 0===Me?void 0:Me.PalioVoter)&&void 0!==Re?Re:"",current_day:Se,inviteCode:T,activate_code:D,chapterList:Ze,current_chapter:Ee,showChat:[(r.NotLogin,r.Claimed)].includes(Pe),showQuest:!!N&&!Oe,isFinish:Oe,loading:he,palioEggInfo:M,palioPointInfo:U,isPortalShow:d,loadingKey:g,account:N,accountWallet:k,eggStatus:Pe},re,ie),{generateModal:we,refreshPoints:Ue,refreshIncubation:ze,mutate:B,setGenerateLoading:Fe,refreshSumInfo:S,setArr:ne,seOpenIng:_e,setPortalShow:p,onConnectItem:f,onClose:x,setGenerateModal:je}),children:i})};function ve(){return(0,y.useContext)(me)}var ge=function(e,t,n,i,a,o){if(e<5)return t?a?r.Claimed:r.UnClaimed:r.NotLogin;if(!t)return r.NotLoginEnded;if(!a)return r.UnClaimedEnded;if(n&&!o){if([F.Minted].includes(n))return r.Minted;if([F.Selected,F.Minting].includes(n))return r.SelectDone}return i?r.NotSelected:r.UnQualifiedEnded};function be(){var e=ve(),t=e.aiChatState,n=e.account,r=(0,y.useState)(t.answer),i=r[0],o=r[1];return n?(0,a.jsxs)("div",{className:"pl-4 absolute bottom-10 pt-5 flex items-center",children:[(0,a.jsx)("textarea",{value:i,onChange:function(e){return o(e.target.value)},placeholder:t.limit?"Check for Max Score after sending\uff01":"Send message to your Palio\uff01",maxLength:300,className:d()("w-[654px] h-14 py-[18px] bg-[#773A7C] rounded-xl","placeholder:text-[#B56BBB] placeholder:text-x-sm placeholder:font-semibold placeholder:leading-5","text-white text-sm px-5 font-semibold","caret-[#9CFEFF] resize-none","active:outline-none scrollbar-y outline-none")}),(0,a.jsxs)("p",{className:"absolute -bottom-5 right-[140px] text-x-xs font-semibold text-[#B56BBB]",children:["(",null===i||void 0===i?void 0:i.length,"/300)"]}),(0,a.jsx)("button",{id:"palio_chat","data-sensors-click":!0,onClick:function(){return!t.loading&&t.submit(i)},style:{boxShadow:"4px 4.5px 0px rgb(22, 27, 65)"},className:"font-[AaHuanLeBao] w-[133px] h-[55px] rounded-xl bg-[#9CFEFF] ml-1.5 text-x-7 text-[#212121] flex items-center justify-center active:scale-95",children:t.loading?(0,a.jsx)(f.gb,{size:20,variant:"blue",weight:3}):"send"})]}):null}var we=n(91768),je=n(95639),Ce=n(67968),ye=n(58672),_e=n(86356),Ne=n(56823),ke=n(84192);function Fe(e,t="wei"){return function(e,t){let[n,r="0"]=e.split(".");const i=n.startsWith("-");if(i&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${r}`))&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[e,i,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],o=Math.round(Number(`${i}.${a}`));r=o>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${o}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${i?"-":""}${n}${r}`)}(e,ke.ez[t])}var Le,Ze,Ee,Se=function(e){var t=e.scene,n=e.network,r=e.contractAddress,i=e.funcSignature,a=e.tradeId,c=e.notiRef,u=e.specificContractABI,d=ve().onOpenBridge,f=(0,ye.Z)().t,x=(0,pe.lm)().noti,h=""==r?void 0:(0,A.u)(n,r,u),v=(0,Ne.j)(h,i),g=function(e){var t=e.contractFuncState,n=(e.contractFuncEvent,e.notiRef),r=(e.tradeId,e.scene),i=e.network,a=(e.contentState,(0,ye.Z)().t),o=(0,pe.lm)(),s=o.noti,l=o.close,c=t||{},u=c.status,d=c.transaction,p=c.errorCode;return(0,y.useEffect)((function(){var e;if("None"!=u)if(null===d||void 0===d||d.hash,u&&["Mining","Exception","Success","Fail"].includes(u)&&l(null!==(e=null===n||void 0===n?void 0:n.current)&&void 0!==e?e:""),"PendingSignature"===u);else if(d&&"Mining"===u){var t;s("info",null!==(t=Pe[r].pending)&&void 0!==t?t:"Please wait for the transaction to be completed!")}else if("Success"===u){var o;[Le.claim_utility,Le.boost,Le.regenerate,Le.claim_chat_nft].includes(r)&&(0,_e.s)(i,_e.t.PALIO_INCUBATOR,null===d||void 0===d?void 0:d.hash),s("success",null!==(o=Pe[r].success)&&void 0!==o?o:"Tx success, Congratulations!")}else if("Exception"===u)-32603===p?s("error","Balance not enough or gas price too low"):s("info",a("noti.userDecline"));else if("Fail"===u){var c;s("error",null!==(c=Pe[r].fail)&&void 0!==c?c:"Tx failed, please try again.")}}),[t,a,l,n,u,d,r,p]),{status:u}}({scene:t,network:n,contractFuncState:v.state,contractFuncEvent:v.events,notiRef:c,tradeId:a}).status,w=(0,y.useMemo)((function(){return{loading:["PendingSignature","Mining"].includes(g),isSuccess:["Success"].includes(g)}}),[g]),j=w.loading,C=w.isSuccess,_=(0,s.Z)((0,l.Z)(),2),N=_[0],k=_[1],F=j||N,L=function(){var e=(0,o.bN)(),t=e.cacheData,n=e.isWalletConnected,r=(0,o.rK)(),i=r.switchNetwork,a=r.onConnectBtnClickedWithPN,s=(0,y.useCallback)(function(){var e=(0,m.Z)(b().mark((function e(r,o,s){var l,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||n(r)){e.next=4;break}return e.next=3,null===a||void 0===a?void 0:a(r.address);case 3:return e.abrupt("return");case 4:return l=1===r.source,e.next=7,null===i||void 0===i?void 0:i(o,l);case 7:return(c=e.sent)&&t.updateWallet(r.address),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n,a,i]);return{providerConnectAndSwitch:s}}().providerConnectAndSwitch,Z=(0,y.useCallback)(function(){var e=(0,m.Z)(b().mark((function e(t){var r,a,o,s,l,u,m,g,w,j,C,y,_,N;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.wallet,a=t.txParams,o=t.txValue,s=t.txFrom,l=t.needConnect,h){e.next=4;break}return x("error","Unsupported contract address!"),e.abrupt("return");case 4:return k.setTrue(),e.next=7,L(r,n,l);case 7:if(u=e.sent){e.next=11;break}return k.setFalse(),e.abrupt("return");case 11:return e.prev=11,e.next=15,u.getBalance(r.address);case 15:if(w=e.sent,![p.CF.XTERIO,p.CF.XTERIO_TESTNET].includes(n)||!B.O$.from(null!==o&&void 0!==o?o:0).gt(w)){e.next=20;break}return console.log("Insufficient balance for gas fee"),d(),e.abrupt("return");case 20:return e.next=22,(m=h.estimateGas)[i].apply(m,(0,ae.Z)(a).concat([{from:s,value:o}]));case 22:if(j=e.sent,C=j.mul("3").div("2"),![p.CF.XTERIO,p.CF.XTERIO_TESTNET].includes(n)||!C.mul(Fe("1.5","gwei")).add(null!==o&&void 0!==o?o:0).gt(w)){e.next=28;break}return console.log("Insufficient balance for gas fee"),d(),e.abrupt("return");case 28:return c&&(c.current=x("info","Please confirm the transaction in your wallet.",{duration:null})),e.next=31,(g=v).customSend.apply(g,[u,{gasLimit:C,txValue:o}].concat((0,ae.Z)(a)));case 31:return y=e.sent,e.abrupt("return",y);case 35:if(e.prev=35,e.t0=e.catch(11),console.error("estimateGas error: ",e.t0),_=/\"code\":(-?\d+)/,!(N=e.t0.message.match(_))||!N[1]){e.next=45;break}if(-32e3!==parseInt(N[1])){e.next=45;break}return x("error","Insufficient balance"),e.abrupt("return");case 45:if(!e.t0.toString().includes("PalioIncubator: event not started")){e.next=48;break}return x("info","Meet Your Anima Odyssey will officially start on 1st April 04:00 UTC. Please come back later."),e.abrupt("return");case 48:return x("error",f("noti.txError")),e.abrupt("return");case 50:return e.prev=50,k.setFalse(),e.finish(50);case 53:case"end":return e.stop()}}),e,null,[[11,35,50,53]])})));return function(t){return e.apply(this,arguments)}}(),[h,v,i,c]);return{estimateGasAndSendTx:Z,isLoading:F,isSuccess:C,status:g}};!function(e){e.egg="palio_egg",e.claim_utility="palio_claim",e.vote="palio_vote",e.regenerate="palio_regenerate",e.boost="palio_boost",e.claim_chat_nft="palio_claim_chat_nft",e.mint="palio_mint"}(Le||(Le={})),function(e){e[e.input=0]="input",e[e.pendingSignature=1]="pendingSignature",e[e.mining=2]="mining",e[e.success=3]="success",e[e.fail=4]="fail"}(Ze||(Ze={}));var Be,Ie,Ae,Me,Pe=(Ee={},(0,N.Z)(Ee,Le.egg,{pending:"Please wait for the transaction to be completed!",success:"Congratulations on successfully claiming your Palio egg!",fail:"Claiming Plaio egg failed, please try again."}),(0,N.Z)(Ee,Le.claim_utility,{pending:"Please wait for the transaction to be completed!",success:"Congratulations on successfully claiming petting item!",fail:"Claiming petting item failed, please try again."}),(0,N.Z)(Ee,Le.vote,{pending:"Please wait for the transaction to be completed!",success:"You have successfully voted for your favourite Palio!",fail:"Failed in voting. Please try again."}),(0,N.Z)(Ee,Le.regenerate,{pending:"Please wait for the transaction to be completed!",success:"Congratulations on successfully regenerating your Palio!",fail:"Failed in regeneration. Please try again."}),(0,N.Z)(Ee,Le.boost,{pending:"Please wait for the transaction to be completed!",success:"Congratulations on successfully purchasing Royal Boost!",fail:"Failed in purchasing. Please try again."}),(0,N.Z)(Ee,Le.mint,{pending:"Please wait for the transaction to be completed!",success:"Congratulations on successfully creating Palio! ",fail:"Failed in creating Palio. Please try again."}),(0,N.Z)(Ee,Le.claim_chat_nft,{pending:"Please wait for the transaction to be completed!",success:"Congratulations on successfully claiming your chatting rewards!",fail:"Claiming chatting rewards failed, please try again."}),Ee),Oe=n(17187),Te=n.n(Oe);!function(e){e[e.share=18]="share",e[e.chat=12]="chat",e[e.pet=11]="pet",e[e.cumulative=15]="cumulative",e[e.retweet=13]="retweet",e[e.like=14]="like",e[e.follow=17]="follow",e[e.invite=16]="invite"}(Be||(Be={})),function(e){e.daily="daily",e.once="once",e.weekly="weekly",e.series="series"}(Ie||(Ie={})),function(e){e[e.chat=1]="chat",e[e.friend=2]="friend",e[e.royal=3]="royal"}(Ae||(Ae={})),function(e){e[e.initial=1]="initial",e[e.nft=2]="nft",e[e.invite=3]="invite",e[e.interact=4]="interact"}(Me||(Me={}));var Re=function(){var e=(0,m.Z)(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("/palio/v1/user/".concat(t,"/task"));case 2:return n=e.sent,r=[],n.list.map((function(e,t){var i="string"===typeof e.config&&e.config?JSON.parse(e.config):[],a=Object.keys(Be).find((function(t){return Be[t]===e.ID})),o=Be[a],s=null;s=[Be.share].includes(o)?Ie.weekly:[Be.pet].includes(o)?Ie.daily:[Be.chat,Be.retweet,Be.like].includes(o)?Ie.weekly:Ie.series,r.push((0,v.Z)((0,h.Z)({},e),{task_list:i,task_type:o,task_kind:s,day_end:n.day_end,chapter_end:n.chapter_end,cons_total:n.cons_total}))})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=(0,m.Z)(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.UT)("/palio/v1/user/".concat(t,"/task"),{task_id:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=(0,m.Z)(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.UT)("/palio/v1/user/".concat(t,"/task/report"),{task_id:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue=(function(){var e=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.pv)("/palio/v1/user/".concat(t,"/ticket")));case 1:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,m.Z)(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.UT)("/palio/v1/user/".concat(t,"/invite/apply"),{code:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ge=function(){var e=(0,m.Z)(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("/palio/v1/user/".concat(t,"/season"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=new(Te()),Ve="refreshTask";function He(e){var t,r=e.refreshChatNFTClaimed,i=(0,y.useState)(""),o=i[0],c=i[1],u=(0,s.Z)((0,l.Z)(),2),d=u[0],p=u[1],x=function(){var e=(0,m.Z)(b().mark((function e(){var t,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return(0,we.U)(je.ly.PalioChat,{imageUrl:o},void 0,(0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k,!e.t0){e.next=4;break}return e.next=4,ze(k,Be.share);case 4:We.emit(Ve);case 5:case"end":return e.stop()}}),e)})))),e.abrupt("return");case 3:return p.setTrue(),e.next=6,n.e(7636).then(n.t.bind(n,67636,23));case 6:return t=e.sent,r=t.default,e.next=10,r(document.getElementById("sssssss"),{allowTaint:!0,useCORS:!0,scale:2,backgroundColor:null,removeContainer:!0,ignoreElements:function(e){e.id}}).catch((function(e){return null}));case 10:e.sent.toBlob(function(){var e=(0,m.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,(0,Ce.$)(t,"png","launchpad");case 3:n=e.sent,c(n),(0,we.U)(je.ly.PalioChat,{imageUrl:n},void 0,(0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=k,!e.t0){e.next=4;break}return e.next=4,ze(k,Be.share);case 4:We.emit(Ve);case 5:case"end":return e.stop()}}),e)})))),p.setFalse();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"image/png");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=ve(),w=g.aiChatState,j=g.chapterList,C=g.current_chapter,_=g.chatNFTClaimed,N=g.accountWallet,k=g.account,F=g.mutate,L=g.palio_incubator_contract_address,Z=g.network,E=g.refreshPoints,S=(0,y.useRef)(),B=Se({scene:Le.claim_chat_nft,network:Z,contractAddress:L||"",funcSignature:"claimChatNFT",tradeId:"",notiRef:S,specificContractABI:I.l0}),A=B.estimateGasAndSendTx,M=B.isLoading,P=B.isSuccess,O=(0,y.useState)(!1),T=O[0],R=O[1],D=function(){var e=(0,m.Z)(b().mark((function e(){var t,n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=4,$(k);case 4:if(n=e.sent,(null===(t=n.answer)||void 0===t?void 0:t.question)===w.question&&N){e.next=8;break}return R(!1),e.abrupt("return",w.mutate(n));case 8:return(0,pe.dO)("palio_claim_chat_nft"),r=[],e.next=12,A({wallet:N,txParams:r,txFrom:k,needConnect:!0});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,y.useEffect)((function(){P&&(F((function(e){return(0,v.Z)((0,h.Z)({},e||{}),{chatNFTClaimed:!0})})),setTimeout((function(){E(),r(),We.emit(Ve)}),5e3),setTimeout((function(){E(),We.emit(Ve)}),1e4))}),[P,F,r,E]);var z,U=(null===(t=j[C-1])||void 0===t?void 0:t.chat_nft)||"";return(0,y.useEffect)((function(){M&&R(!1)}),[M]),(0,a.jsxs)("div",{className:"absolute bottom-10 left-4 w-[740px] h-24 bg-[#384084]/20 rounded-[20px] -skew-x-[16deg] origin-bottom-left font-[AaHuanLeBao] text-white",children:[(0,a.jsxs)("div",{className:"w-full h-full flex items-center skew-x-[16deg] relative",children:[(0,a.jsxs)("span",{className:"inline-block absolute -left-1 -top-2.5 w-[70px] h-[23px] font-[AaHuanLeBao] text-sm leading-6 pt-0.5 text-[#232A65] text-center",children:["Reward",(0,a.jsxs)("svg",{className:"absolute left-0 bottom-0 -z-[1]",width:"69.281250",height:"22.722412",viewBox:"0 0 69.2812 22.7224",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"\u77e2\u91cf 17",d:"M4.49023 2.02661L0.164062 14.6362C-0.253906 15.8506 0.148438 17.1953 1.16406 17.9814L6.47266 22.0942C7 22.5015 7.64453 22.7224 8.31055 22.7224L63.9863 22.7224C65.3477 22.7224 66.5371 21.8066 66.8867 20.4915L69.1816 11.8342C69.4277 10.9072 69.2148 9.91846 68.6113 9.17407L67.0742 7.28125C66.5742 6.66675 65.8535 6.27417 65.0645 6.1897L7.64844 0.017334C6.25586 -0.132324 4.94336 0.70166 4.49023 2.02661Z",fill:"#99FEFF",fillOpacity:"1.000000",fillRule:"evenodd"})]})]}),(0,a.jsxs)("p",{className:"w-[70px] text-right text-x-6 ml-10",children:["MAX ",(0,a.jsx)("em",{className:"not-italic text-x-5",children:"Score"})]}),(0,a.jsx)("p",{className:"text-x-9 w-[129px] text-left pl-5",children:w.max_score}),(0,a.jsxs)("div",{className:"w-[84px] h-14 bg-black/40 rounded-xl pt-4 text-center",children:[(0,a.jsx)("p",{className:"text-white/60 text-x-xs",children:"Boost"}),(0,a.jsxs)("p",{className:"mt-1.5 text-x-sm",children:["+",w.boost,"X"]})]}),(0,a.jsxs)("div",{className:"ml-2 w-[90px] h-14 bg-black/40 rounded-xl flex items-center px-2",children:[(0,a.jsx)("img",{src:U,width:32,height:32}),(0,a.jsx)("p",{className:"ml-2 text-center text-x-sm",children:"NFT"})]}),(0,a.jsxs)("button",{onClick:w.limit>=3||_||M||T?function(){return null}:w.retry,style:{boxShadow:"4px 4.5px 0px rgb(22, 27, 65)"},disabled:w.limit>=3||_||M||T,className:"w-[92px] h-[55px] rounded-xl bg-[#fff] ml-10 text-x-5 text-[#212121] disabled:opacity-40 relative disabled:active:scale-100 active:scale-95",children:[(0,a.jsxs)("span",{className:"absolute inline-block w-8 h-[18px] leading-[18px] rounded-full bg-[#161B41] text-white font-poppins text-x-xs right-0 -bottom-2",children:[3-(null!==(z=w.limit)&&void 0!==z?z:0),"/3"]}),"Retry"]}),(0,a.jsx)("button",{style:{boxShadow:"4px 4.5px 0px rgb(22, 27, 65)"},onClick:D,disabled:_||M||T,className:"w-[142px] h-[55px] rounded-xl bg-[#9CFEFF] ml-5 text-x-5 text-[#212121] active:scale-95 disabled:active:scale-100 disabled:opacity-40",children:M||T?(0,a.jsx)(f.gb,{size:20,variant:"blue",weight:3}):_?"Claimed":"Claim"})]}),d?(0,a.jsx)("span",{id:"loading",className:"skew-x-[16deg] absolute -right-10 top-10",children:(0,a.jsx)(f.gb,{size:20,variant:"white",weight:3})}):(0,a.jsxs)("svg",{id:"onShare",onClick:x,className:"skew-x-[16deg] absolute -right-10 top-10 cursor-pointer",width:"30.000000",height:"30.000000",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"path",d:"M15 0C6.71289 0 0 6.71313 0 15C0 23.2834 6.7168 30 15 30C23.2832 30 30 23.2834 30 15C30 6.71313 23.2832 0 15 0ZM12.7637 15C12.7637 15.3416 12.6934 15.6697 12.5684 15.9675L16.6934 18.7166C17.0957 18.4319 17.5879 18.2644 18.1172 18.2644C19.4863 18.2644 20.5977 19.3762 20.5977 20.7456C20.5977 22.115 19.4863 23.2266 18.1172 23.2266C16.748 23.2266 15.6367 22.115 15.6367 20.7456C15.6367 20.5547 15.6602 20.3706 15.6992 20.1897L11.3008 17.2566C10.9883 17.3972 10.6445 17.4778 10.2793 17.4778C8.91016 17.4778 7.79883 16.366 7.79883 14.9966C7.79883 13.6272 8.91016 12.5156 10.2793 12.5156C10.6445 12.5156 10.9883 12.5959 11.3008 12.7366L15.6992 9.80347C15.6602 9.62622 15.6367 9.43872 15.6367 9.2478C15.6367 7.87842 16.748 6.76685 18.1172 6.76685C19.4863 6.76685 20.5977 7.87842 20.5977 9.2478C20.5977 10.6172 19.4863 11.7288 18.1172 11.7288C17.5879 11.7288 17.0957 11.5613 16.6934 11.2769L12.5684 14.0256C12.6934 14.3303 12.7637 14.655 12.7637 15Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"})]})]})}var $e=["/images/palio/bg/chat-1.png","/images/palio/bg/chat-2.png","/images/palio/bg/chat-3.png","/images/palio/bg/chat-4.png"];function qe(e){var t=e.children,n=ve(),r=n.refs,i=n.aiChatState,o=n.current_chapter,l=n.chapterList,c=n.network,u=n.palio_incubator_contract_address,p=n.account,f=(0,w.Z)((0,m.Z)(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p||!c){e.next=8;break}return e.t0=s.Z,e.next=4,Promise.all([O(c,u,p)]);case 4:return e.t1=e.sent,t=(0,e.t0)(e.t1,1),n=t[0],e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),{refreshOnWindowFocus:!1,refreshDeps:[c,p]}),x=f.data,h=f.refresh;return(0,a.jsxs)("div",{ref:null===r||void 0===r?void 0:r.chat,id:"sssssss",className:"w-[920px] h-[600px] mx-auto relative z-[1] mt-[70px]",children:[(0,a.jsx)("div",{className:"absolute left-[280px] top-0 w-[348px] h-12 bg-[#676FB0] mx-auto rounded-md z-[4] origin-bottom-left -skew-x-[16deg]",children:(0,a.jsx)("p",{className:"text-center font-[AaHuanLeBao] text-xl font-xextrabold leading-[48px] skew-x-[16deg]",children:"Chat Up With Palio"})}),(0,a.jsx)("img",{className:"absolute left-[104px] top-[10px] z-[4]",src:"/images/palio/icon/Illustration.png",width:"82.000000",height:"57.000000"}),(0,a.jsx)("div",{className:"left-4 absolute top-9 w-[860px] h-[548px] bg-[#956798] z-[1] pt-[18px] -skew-y-2 skew-x-2"}),(0,a.jsx)("div",{className:"left-6 absolute top-10 w-[870px] h-[530px] bg-[#454A7E] z-[2] pt-[18px] skew-y-2 -skew-x-2"}),(0,a.jsxs)("div",{className:"left-4 absolute top-9 border-l-[27px] w-[860px] h-[538px] bg-[#EEACF3] border-[#FCD6FF] rounded-lg z-[3] pt-[18px]",children:[(0,a.jsx)("img",{className:"absolute top-0 right-0",width:"320.000000",height:"320.000000",src:$e[o-1],alt:""}),t,(0,a.jsx)("div",{className:"absolute top-6 right-0 flex justify-end pr-3",children:l.map((function(e){var t=!(null===x||void 0===x?void 0:x[e.index-1]);return(0,a.jsxs)("span",{className:d()("inline-block w-[30px] h-[30px] mr-[18px] bg-[#060606]/50 relative",t&&"opacity-40"),children:[(0,a.jsx)("img",{width:30,height:30,src:e.chat_nft,alt:""}),(0,a.jsx)("svg",{className:"absolute -bottom-1 -right-2",width:"24.000000",height:"16.000000",viewBox:"0 0 24 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:!t&&(0,a.jsx)("path",{id:"\u77e2\u91cf 49",d:"M0 12.68L7.04 15.77L24 3.42L18.85 0L7.04 12.68L1.02 8.57L0 12.68Z",fill:"#5CF1DD",fillOpacity:"1.000000",fillRule:"evenodd"})})]},e.name)}))}),void 0!==i.score&&i.answer?(0,a.jsx)(He,{refreshChatNFTClaimed:h}):(0,a.jsx)(be,{})]})]})}var Ke=n(27518),Xe=n.n(Ke),Ye=function(e){var t=e.positinon,n=void 0===t?"left":t,r=e.text,i=e.loading,s=(0,o.bN)().userInfo;return(0,a.jsxs)("li",{className:d()("flex mb-8 last:mb-0","right"===n&&"flex-row-reverse"),children:["left"===n?(0,a.jsx)("img",{className:"w-10 h-10 rounded-full bg-[#384086]",src:"/images/palio/icon/icon-egg.png",alt:""}):(0,a.jsx)("img",{className:"w-10 h-10 rounded-full bg-[#384086]",src:s.avatar,alt:""}),(0,a.jsx)("p",{className:d()("max-w-[698px] px-4 py-2 rounded-lg","left"===n?"bg-white ml-2.5":"text-white bg-[#384086] mr-2.5",i&&"flex items-center"),children:r?(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:r}}):(0,a.jsx)("span",{className:"inline-flex w-5 items-center justify-center",children:(0,a.jsx)("span",{className:d()("inline-block bg-[#384086] w-2 h-2 rounded-full",Xe()["ani-pulse"])})})})]})};function Qe(){var e=ve(),t=e.aiChatState,n=e.account,r=e.eggClaimed,i=t.answer,o=t.question,s=t.score,l=t.reply;return(0,a.jsxs)(qe,{children:[(0,a.jsx)("p",{className:"text-center text-sm font-xextrabold leading-[18px] text-[#384084]/50",children:"Chat with Palio to get boost and NFT rewards!"}),(0,a.jsxs)("ul",{className:"w-full max-h-[300px] mt-10 overflow-y-auto x-scrollbar px-[30px] relative z-[10] leading-4 text-xs text-[#384086]",children:[n&&r&&(0,a.jsx)(Ye,{text:o}),i?(0,a.jsx)(Ye,{positinon:"right",text:i}):null,i?(0,a.jsx)(Ye,{text:s?"".concat(l,'<span class="text-error">(Score: ').concat(s,")</span>"):l}):null]})]})}var Je=n(48968);function et(){var e=ve(),t=e.account,n=e.setPortalShow;return(0,a.jsx)("div",{className:"w-full bg-[#2A3066]/70 sticky top-0 z-[10]",children:(0,a.jsxs)("ul",{className:"flex items-center justify-end h-15 w-[1024px] mx-auto text-[#B8BFFF] text-x-xs font-poppins font-[400px]",children:[(0,a.jsx)("li",{onClick:function(){return window.open("https://twitter.com/PalioAI","_blank")},className:"w-[100px] h-7 border border-[#7179BA] rounded-full flex items-center justify-center mr-10 last:mr-0 cursor-pointer bg-[#4A518C7D]/50 hover:opacity-60 active:scale-95",children:(0,a.jsxs)("svg",{width:"39.001221",height:"11.000122",viewBox:"0 0 39.0012 11.0001",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"\u8def\u5f84 41",d:"M3.47675 1.7887L4.85931 1.92706L4.88599 5.97302L4.09332 5.98468L3.47675 1.7887ZM0.675964 11.0001L4.47321 10.5189L4.34418 7.94641L7.70569 7.37866L7.77655 0.814392L0.0012207 0.00012207L0.675964 11.0001Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"\u8def\u5f84 42",d:"M12.8442 9.74286L12.8687 7.44556L11.4938 7.29749L11.1946 9.57355L8.18677 9.97113L9.28986 1.69702L15.7127 1.00562L16.1024 10.1163L12.8442 9.74286ZM12.8752 6.02295L12.8799 3.10809L12.013 3.23071L11.7217 5.98059L12.8752 6.02295Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"\u8def\u5f84 43",d:"M21.3771 1.39154L20.7028 8.02979L24.0087 8.22272L23.9927 10.5093L16.8721 10.1608L16.8694 0.675171L21.3771 1.39154Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("path",{id:"\u8def\u5f84 44",d:"M28.9694 2.86871L24.9861 3.52484L24.7445 1.35986L29.2786 0.947754L28.9694 2.86871ZM29.3231 10.3914L24.7366 10.5093L24.7763 4.17615L29.2277 3.41931L29.3231 10.3914Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("mask",{id:"mask93_374",maskUnits:"userSpaceOnUse",x:"0.001221",y:"0.000122",width:"39.000000",height:"11.000000",children:(0,a.jsx)("rect",{id:"\u77e9\u5f62 9",x:"0.001221",y:"0.000122",width:"39.000000",height:"11.000000",fill:"#C4C4C4",fillOpacity:"1.000000"})}),(0,a.jsx)("g",{mask:"url(#mask93_374)",children:(0,a.jsx)("path",{id:"\u8def\u5f84 45",d:"M39.0013 0.0512695L38.0053 11.0001L30.1862 10.4372L30.1135 0.862854L39.0013 0.0512695ZM35.1968 2.02765C35.1968 2.02765 33.9424 2.3009 33.1048 2.48419C33.1758 4.59674 33.1415 6.71484 33.1415 8.82849C33.7433 8.86377 34.6415 8.91821 34.6415 8.91821L35.1968 2.02765Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,a.jsx)("path",{id:"Color Overlay",d:"M4.47198 10.5187L0.674744 11L0 0L7.77533 0.81427L7.70447 7.37854L4.34296 7.94629L4.47198 10.5187ZM39.0005 0.0508423L38.0045 10.9997L30.1854 10.4368L30.1127 0.862427L39.0005 0.0508423ZM20.7016 8.02966L21.3759 1.39142L16.8682 0.675049L16.8708 10.1607L23.9915 10.5092L24.0075 8.2226L20.7016 8.02966ZM28.9672 2.86871L24.9839 3.52484L24.7423 1.35986L29.2764 0.947754L28.9672 2.86871ZM12.843 9.74274L12.8674 7.44543L11.4926 7.29736L11.1934 9.57343L8.18555 9.97101L9.28864 1.6969L15.7115 1.00549L16.1011 10.1161L12.843 9.74274ZM4.85809 1.92694L3.47552 1.78857L4.0921 5.98456L4.88477 5.9729L4.85809 1.92694ZM35.196 2.02722C35.196 2.02722 33.9415 2.30048 33.104 2.48376C33.1577 4.07874 33.1512 5.67694 33.1448 7.27399L33.1448 7.27417C33.1428 7.7923 33.1407 8.3103 33.1407 8.82806C33.7426 8.86334 34.6407 8.91779 34.6407 8.91779L35.196 2.02722ZM12.874 6.02283L12.8787 3.10797L12.0118 3.23059L11.7205 5.98047L12.874 6.02283ZM29.3209 10.3914L24.7344 10.5093L24.7741 4.17615L29.2255 3.41931L29.3209 10.3914Z",clipRule:"evenodd",fill:"#B8BFFF",fillOpacity:"1.000000",fillRule:"evenodd"})]})}),(0,a.jsxs)("li",{onClick:function(){return window.open("https://medium.com/@PalioAI/meet-your-anima-airdrop-program-guidebook-2c0a8fbd4fea","_blank")},className:"px-5 h-7 border border-[#7179BA] rounded-full flex items-center mr-10 last:mr-0 cursor-pointer hover:opacity-60 bg-[#4A518C7D]/50 active:scale-95",children:[(0,a.jsxs)("svg",{width:"15.000000",height:"15.000000",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"path",d:"M0 15L0 0L15 0L15 15L0 15ZM13.125 1.875L1.875 1.875L1.875 13.125L13.125 13.125L13.125 1.875ZM5.625 5.625L3.75 5.625L3.75 3.75L5.625 3.75L5.625 5.625ZM5.625 8.4375L3.75 8.4375L3.75 6.5625L5.625 6.5625L5.625 8.4375ZM5.625 11.25L3.75 11.25L3.75 9.375L5.625 9.375L5.625 11.25ZM11.25 5.625L6.5625 5.625L6.5625 3.75L11.25 3.75L11.25 5.625ZM11.25 8.4375L6.5625 8.4375L6.5625 6.5625L11.25 6.5625L11.25 8.4375ZM11.25 11.25L6.5625 11.25L6.5625 9.375L11.25 9.375L11.25 11.25Z",fill:"#B8BFFF",fillOpacity:"1.000000",fillRule:"nonzero"})]}),(0,a.jsx)("p",{className:"pl-2.5",children:"Guide"})]}),(0,a.jsxs)("li",{onClick:function(){return!t&&n()},id:"palio_connect","data-sensors-click":!0,className:d()("w-40 pl-5 h-7 border border-[#7179BA] rounded-full flex items-center mr-10 last:mr-0 bg-[#4A518C7D]/50 ",!t&&"cursor-pointer hover:bg-[#4A518C7D]/70 hover:border-[#7179BA]/70 hover:text-[#B8BFFF]/70 active:scale-95 hover:opacity-60"),children:[(0,a.jsxs)("svg",{width:"15.000000",height:"15.000000",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"\u77e2\u91cf 10",d:"M12.6068 0C13.8959 0 15 1.10767 15 2.40002L15 5.03076L9.75403 5.03076C9.75403 5.03076 7.49939 4.84619 7.49939 7.61536C7.49939 9.89545 9.11096 10.0204 9.49084 10.0499C9.54163 10.0538 9.57031 10.0561 9.57031 10.0615L14.9537 10.0615L14.9537 12.6C14.9537 13.8923 13.8496 15 12.5607 15L2.39197 15C1.10413 15 0 13.8923 0 12.6L0 2.40002C0 1.10767 1.10413 0 2.39197 0L12.6068 0ZM10.0762 9.18457C10.0762 9.18457 8.46619 9.36926 8.46619 7.56921C8.46619 5.88983 9.77869 5.76929 10.1295 5.73706C10.1836 5.73212 10.2148 5.72925 10.2148 5.72308L14.8152 5.72308L14.8152 9.18457L10.0762 9.18457ZM10.8582 7.38464C10.8582 7.06152 10.5822 6.78467 10.261 6.78467C9.93884 6.78467 9.66272 7.06152 9.61658 7.38464C9.61658 7.61542 9.75403 7.84613 9.93884 7.93848C10.1224 8.03076 10.3523 8.03076 10.5371 7.93848C10.7207 7.79999 10.8582 7.61542 10.8582 7.38464Z",fill:"#B8BFFF",fillOpacity:"1.000000",fillRule:"evenodd"})]}),(0,a.jsx)("p",{className:"pl-2.5",children:t?(0,Je.vD)(t):"Connect Wallet"})]}),(0,a.jsxs)("li",{onClick:function(){(0,we.U)(je.ly.PalioActivity,{imageUrl:"https://resources.xter.io/share/palio_incubation_event_v2.jpeg"})},className:"px-5 h-7 border border-[#7179BA] rounded-full flex items-center mr-10 last:mr-0 cursor-pointer bg-[#4A518C7D]/50 active:scale-95 hover:opacity-60",children:[(0,a.jsxs)("svg",{width:"15.000000",height:"15.000000",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"path",d:"M7.5 0C3.35657 0 0 3.35657 0 7.5C0 11.6417 3.35828 15 7.5 15C11.6417 15 15 11.6417 15 7.5C15 3.35657 11.6417 0 7.5 0ZM6.38171 7.5C6.38171 7.67078 6.34656 7.83484 6.28455 7.98383L8.34705 9.35828C8.54797 9.21594 8.79407 9.13226 9.05859 9.13226C9.74329 9.13226 10.2991 9.68805 10.2991 10.3727C10.2991 11.0575 9.74329 11.6133 9.05859 11.6133C8.3739 11.6133 7.81812 11.0575 7.81812 10.3727C7.81812 10.2773 7.82983 10.1852 7.84985 10.0948L5.65015 8.62836C5.49438 8.69867 5.32202 8.73883 5.13953 8.73883C4.45483 8.73883 3.89905 8.18304 3.89905 7.49835C3.89905 6.8136 4.45483 6.25781 5.13953 6.25781C5.32202 6.25781 5.49438 6.29797 5.65015 6.36829L7.84985 4.90179C7.82983 4.81305 7.81812 4.7193 7.81812 4.6239C7.81812 3.93915 8.3739 3.38336 9.05859 3.38336C9.74329 3.38336 10.2991 3.93915 10.2991 4.6239C10.2991 5.30859 9.74329 5.86438 9.05859 5.86438C8.79407 5.86438 8.54797 5.7807 8.34705 5.63837L6.28455 7.01282C6.34656 7.16516 6.38171 7.32758 6.38171 7.5Z",fill:"#ABB2F1",fillOpacity:"1.000000",fillRule:"nonzero"})]}),(0,a.jsx)("p",{className:"pl-2.5",children:"Share"})]})]})})}var tt=function(e){var t=e.isOpen,n=e.chainId,r=e.onClose,i=e.onConfirm,o=(0,y.useMemo)((function(){return n?(0,p.ey)((0,p.Ty)(n)):""}),[n]);return(0,a.jsx)(f.$o,{contentClass:"p-10 pb-0",isOpen:t,onClose:r,onConfirm:function(){window.open("https://bridge.xter.io/deposit","_blank"),null===r||void 0===r||r(),null===i||void 0===i||i()},confirmTitle:"BRIDGE NOW",cancelTitle:"CANCEL",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)("h1",{className:"font-termina font-xbold text-base leading-xsnug uppercase text-xdarkblue text-center",children:"BRIDGE REMINDER"}),(0,a.jsxs)("div",{className:"font-poppins font-xextralight text-sm leading-xsnug text-black/60 text-center",children:["You have insufficient BNB on ",o," Chain. Please complete the bridging process to start."]})]})})},nt=n(99534),rt=n(45210),it=n(24561),at=n(80146),ot=(0,y.createContext)({}),st=0,lt=function(e){var t=e.children,n=(0,nt.Z)(e,["children"]),r=(0,y.useState)([]),i=r[0],o=r[1],s=(0,y.useCallback)((function(e){o((function(t){var n=t.findIndex((function(t){return t.id===e.id}));return n>-1?(t.splice(n,1,e),t):(0,ae.Z)(t).concat([e])}))}),[]),l=(0,y.useCallback)((function(e){o((function(t){return t.filter((function(t){return t.id!==e}))}))}),[]),c=(0,y.useCallback)((function(){return st++}),[]);return(0,a.jsx)(ot.Provider,{value:(0,v.Z)((0,h.Z)({},n),{columns:i,insertColumn:s,removeColumn:l,getColumnId:c}),children:t})},ct=function(){return(0,y.useContext)(ot)},ut=function(e){var t=e.label,n=e.prop,r=e.renderCell,i=e.labelClassName,a=e.className,o=ct(),s=o.insertColumn,l=o.removeColumn,c=o.getColumnId,u=(0,y.useState)(c()),d=u[0];u[1];return(0,y.useEffect)((function(){null===s||void 0===s||s({id:d,label:t,prop:n,labelClassName:i,className:a,renderCell:function(e){var t=e.row,i=e.rowIndex;return r?r({row:t,rowIndex:i}):n?t[n]:""}})}),[a,s,t,i,n,r,d]),(0,rt.Z)((function(){null===l||void 0===l||l(d)})),null},dt=function(){var e=ct().columns;return(0,a.jsx)(a.Fragment,{children:Array(5).fill(0).map((function(t,n){return(0,a.jsx)("tr",{children:null===e||void 0===e?void 0:e.map((function(e,t){var n;return(0,a.jsx)("td",{className:d()("col_".concat(t," border-b-[1px] border-xwhite/10 py-5"),"text-xwhite/60 text-base font-poppins text-left",e.className),children:(0,a.jsx)(it.ZP,{speed:2,uniqueKey:"uniqueKey",className:"inline-block",backgroundColor:"#FEFEFE",height:64,width:80,backgroundOpacity:.03,foregroundColor:"#2C2C48",foregroundOpacity:.01,children:(0,a.jsx)("rect",{x:"0",y:"24",rx:"2",ry:"2",width:"100%",height:"16"})})},null!==(n=null===e||void 0===e?void 0:e.prop)&&void 0!==n?n:""+t)}))},n)}))})},pt=function(){var e=ct(),t=e.columns,n=e.data,r=e.isLoading,i=e.onRowClick,o=e.rowClassName,s=e.labelClassName;return(0,a.jsxs)("table",{className:"w-full",cellPadding:0,cellSpacing:0,children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:t.map((function(e,t){return(0,a.jsx)("th",{className:d()("col_".concat(t," border-b-[1px] border-xwhite/10 py-4"),"border-t-[2px] border-xwhite/20","text-xwhite/60 text-base font-poppins font-bold text-left",s,e.labelClassName),children:null===e||void 0===e?void 0:e.label},t)}))})}),(0,a.jsx)("tbody",{children:r?(0,a.jsx)(dt,{}):n.map((function(e,n){return(0,a.jsx)("tr",{onClick:function(){return null===i||void 0===i?void 0:i(e)},className:"row_".concat(n," ").concat(i?"hover:bg-xwhite/5 cursor-pointer":""),children:t.map((function(t,r){var i;return(0,a.jsx)("td",{className:d()("col_".concat(r," border-b-[1px] border-xwhite/10 py-5"),"text-xwhite/60 text-base font-poppins text-left",o,t.className),children:null===t||void 0===t||null===(i=t.renderCell)||void 0===i?void 0:i.call(t,{row:e,rowIndex:n})},r)}))},n)}))})]})},ft=function(e){var t=e.children,n=e.data,r=e.onRowClick,i=e.isLoading,o=e.rowClassName,s=e.labelClassName,l=(0,nt.Z)(e,["children","data","onRowClick","isLoading","rowClassName","labelClassName"]);return(0,a.jsx)(lt,(0,v.Z)((0,h.Z)({data:n,onRowClick:r,isLoading:i,labelClassName:s,rowClassName:o},l),{children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"hidden",children:t}),(0,a.jsx)(pt,{}),(null===n||void 0===n?void 0:n.length)?null:(0,a.jsx)(at.Z,{})]})}))},xt=function(e){var t=e.className,n=e.title,r=e.value,i=e.children;return(0,a.jsx)(f.jD,{cutSize:"lg",border:!0,borderWidth:1,borderCls:"bg-lightblue/20",className:"flex-1 flex flex-col py-3 px-4 "+t,children:i||(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-x-sm text-lightblue font-poppins font-xextralight",children:n}),(0,a.jsx)("span",{className:"mt-1.5 text-x-xl text-xdarkblue font-poppins font-xextrabold",children:null!==r&&void 0!==r?r:"-"})]})})},mt=function(e){var t=e.data;return(0,a.jsxs)(ft,{data:t,labelClassName:"!py-[9px] !text-lightblue !text-x-sm !border-lightblue/20",rowClassName:"!py-[8px] !text-xdarkblue",children:[(0,a.jsx)(ut,{label:"NFT holds",renderCell:function(e){var t=e.row;e.rowIndex;return(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(f.zG,{src:t.icon,rectClassName:"w-8 h-8 mr-2",placeholderType:"auto",objectFit:"contain"}),(0,a.jsx)("span",{className:"line-clamp-1 text-x-sm font-xmedium font-poppins text-xdarkblue",children:t.collection})]})}}),(0,a.jsx)(ut,{label:"Chain",prop:"chain"}),(0,a.jsx)(ut,{labelClassName:"text-right",className:"!text-xdarkblue text-right",label:"Points",prop:"point"})]})},ht=function(e){var t=e.isOpen,n=e.onClose,r=ve().palioPointInfo,i=(0,y.useMemo)((function(){var e,t,n,i,a,o,s,l,c,u=null!==(s=null===(t=null===r||void 0===r||null===(e=r.point)||void 0===e?void 0:e.find((function(e){return e.type===Me.nft})))||void 0===t?void 0:t.value)&&void 0!==s?s:"-",d=null!==(l=null===(i=null===r||void 0===r||null===(n=r.point)||void 0===n?void 0:n.find((function(e){return e.type===Me.invite})))||void 0===i?void 0:i.value)&&void 0!==l?l:"-",p=null!==(c=null===(o=null===r||void 0===r||null===(a=r.point)||void 0===a?void 0:a.find((function(e){return e.type===Me.interact})))||void 0===o?void 0:o.value)&&void 0!==c?c:"-",f=null===r||void 0===r?void 0:r.nft_point;return[u,d,p,null!==f&&void 0!==f?f:[]]}),[null===r||void 0===r?void 0:r.nft_point,null===r||void 0===r?void 0:r.point]),o=i[0],s=i[1],l=i[2],c=i[3];return(0,a.jsx)(f.$o,{overlayColor:"rgba(20, 20, 48, 0.7)",isOpen:t,title:"POINT DASHBOARD",hideButtons:!0,onClose:n,children:(0,a.jsxs)("div",{className:"py-4 px-6",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(xt,{className:"mr-2 !pr-2",title:"INTERACT WITH PALIO",value:(0,Je.uf)(l)}),(0,a.jsx)(xt,{className:"uppercase !pr-2",title:"invite code rewards",value:(0,Je.uf)(s)})]}),(0,a.jsx)(xt,{className:"uppercase mt-2",title:"initial rewards",value:(0,Je.uf)(o)}),(0,a.jsx)("div",{className:"mt-4 max-h-[220px] overflow-auto",children:(null===c||void 0===c?void 0:c.length)?(0,a.jsx)(mt,{data:c}):null})]})})},vt=n(74855),gt=n.n(vt),bt=function(e){var t=e.title,n=e.className,r=e.titleClass,i=e.corner,o=void 0===i?8:i,s=e.cornerDirection,l=void 0===s?"bottom-left":s,c=e.cornerAxis,u=void 0===c?"x":c,d=(0,y.useMemo)((function(){return"bottom-left"===l?"y"===u?"polygon(0 0, 100% 0, 100% 100%, 100% ".concat(o,"px, 0 0)"):"polygon(0 0, 100% 0, 100% 100%, ".concat(o,"px 100%, 0 0)"):"top-left"===l?"y"===u?"polygon(0 ".concat(o,"px, 100% 0, 100% 100%, 0 100%, 0 ").concat(o,"px)"):"polygon(".concat(o,"px 0, 100% 0, 100% 100%, 0 100%, ").concat(o,"px 0)"):"top-right"===l?"y"===u?"polygon(0 0, 0 calc(100% - ".concat(o,"px), 100% 100%, 0 100%, 0 0)"):"polygon(0 0, calc(100% - ".concat(o,"px) 0, 100% 100%, 0 100%, 0 0)"):"bottom-right"===l?"y"===u?"polygon(0 0, 100% 0, 100% calc(100% - ".concat(o,"px), 0 100%, 0 0)"):"polygon(0 0, 100% 0, calc(100% - ".concat(o,"px) 100%, 0 100%, 0 0)"):"polygon(0 0, 100% 0, 100% 100%, 0 100%, 0 0)"}),[o,u,l]),p=(0,y.useMemo)((function(){return"y"===u?l.includes("top")?"pt-3":"pb-3":l.includes("left")?"pl-3":"pr-3"}),[u,l]);return(0,a.jsx)("div",{className:"flex items-center p-1 ".concat(p," ").concat(n),style:{clipPath:d},children:(0,a.jsx)("span",{className:"font-poppins text-x-xs font-light ".concat(r),children:t})})},wt=function(e){var t=e.className,n=e.title,r=e.value,i=e.highlight;return(0,a.jsxs)("div",{className:"flex flex-col "+t,children:[(0,a.jsx)("span",{className:"text-lightblue text-x-sm font-poppins font-xextralight",children:n}),(0,a.jsx)("span",{className:"".concat(i?"text-xdarkblue":"text-lightblue"," mt-1.5 text-x-lg font-poppins font-xextrabold"),children:null!==r&&void 0!==r?r:"-"})]})},jt=function(e){var t=e.isOpen,n=e.onClose,r=ve(),i=r.chapterList,o=r.current_chapter,s=r.account,l=(0,w.Z)(Ge,{defaultParams:[s||""],ready:!!s,refreshDeps:[s],manual:!0}),c=l.data,u=l.run,p=(0,y.useMemo)((function(){return i.map((function(e){var t=null===c||void 0===c?void 0:c.find((function(t){return t.index===e.index}));return(0,v.Z)((0,h.Z)({},e),{rank:null===t||void 0===t?void 0:t.rank,point:null===t||void 0===t?void 0:t.point})}))}),[i,c]);return(0,y.useEffect)((function(){t&&s&&u(s)}),[s,t,u]),(0,a.jsx)(f.$o,{overlayColor:"rgba(20, 20, 48, 0.7)",isOpen:t,title:"RANKING RECORD",hideButtons:!0,onClose:n,children:(0,a.jsx)("div",{className:"py-4 px-6",children:null===p||void 0===p?void 0:p.map((function(e,t){var n=o,r=!!n&&e.index<n,s=!!n&&e.index===n,l=r?"ENDED":s?"IN PROGRESS":"COMMING SOON",c=i.find((function(e){return e.index===n}))?n-1:null===i||void 0===i?void 0:i[i.length-1].index;if(0!==c&&t+1===c){var u=i.find((function(e){return e.index===c})),p=(new Date).getTime();u&&p>1e3*u.end&&p<1e3*u.end+18e5&&(l="PTS SETTL")}return(0,a.jsxs)("div",{className:"mb-6 flex flex-col",children:[(0,a.jsx)("span",{className:"mb-2 uppercase text-x-xs text-xdarkblue font-termina font-xbold",children:e.name}),(0,a.jsxs)(f.jD,{cutSize:"lg",border:r,borderWidth:1,borderCls:"bg-lightblue/20",className:"flex flex-row items-center py-4 px-6 ".concat(r?"":s?"bg-[#6CDF8C33]":"bg-lightblue/10"),children:[(0,a.jsx)(wt,{className:"flex-1",title:"RANK",value:e.rank,highlight:s}),(0,a.jsx)(wt,{className:"flex-1",title:"POINT",value:e.point?(0,Je.uf)(e.point):void 0,highlight:s}),(0,a.jsx)(bt,{title:l,titleClass:d()(s?"text-xwhite":r?"text-lightblue/60":"text-xwhite/75"),className:d()("absolute top-0 right-0",s?"bg-[#6CDF8C]":r?"bg-lightblue/20":"bg-[#7DD5F966]")})]},t)]},t)}))})})},Ct=function(e){var t=e.isOpen,n=e.onClose,r=(0,pe.SC)(),i=(0,pe.lm)().noti,o=ve(),s=o.account,l=o.inviteCode,c=o.activate_code,u=o.palioPointInfo,d=o.refreshPoints,p=o.mutate,x=(0,y.useMemo)((function(){return u.invited_num}),[u.invited_num]),g=(0,y.useState)(""),w=g[0],j=g[1],C=(0,y.useState)(!1),_=C[0],N=C[1],k=(0,y.useMemo)((function(){var e,t,n,r=null===u||void 0===u||null===(e=u.boost)||void 0===e?void 0:e.find((function(e){return e.type===Ae.friend})),i=null===u||void 0===u||null===(t=u.boost)||void 0===t?void 0:t.find((function(e){return e.type===Ae.chat})),a=null===u||void 0===u||null===(n=u.boost)||void 0===n?void 0:n.find((function(e){return e.type===Ae.royal}));return[null===r||void 0===r?void 0:r.value,null===i||void 0===i?void 0:i.value,null===a||void 0===a?void 0:a.value]}),[null===u||void 0===u?void 0:u.boost]),F=k[0],L=k[1],Z=k[2],E=(0,y.useCallback)((0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&w){e.next=2;break}return e.abrupt("return");case 2:N(!0),Ue(s,w).then((function(e){p((function(e){return(0,v.Z)((0,h.Z)({},e||{}),{activate_code:w})})),d(),j(""),i("success","success"),null===n||void 0===n||n()})).catch((function(e){i("error",e.err_msg)})).finally((function(){N(!1)}));case 4:case"end":return e.stop()}}),e)}))),[s,w,p,i,n,d]);return(0,a.jsx)(f.$o,{overlayColor:"rgba(20, 20, 48, 0.7)",isOpen:t,title:"FRIEND BOOST",hideButtons:!0,onClose:n,children:(0,a.jsxs)("div",{className:"py-4 px-6",children:[(0,a.jsxs)("div",{className:"flex-col",children:[(0,a.jsx)("span",{className:"text-x-xs text-xdarkblue font-termina font-xbold",children:"INVITE CODE"}),(0,a.jsx)(gt(),{text:l,onCopy:function(){return r("Copied")},children:(0,a.jsxs)("div",{className:"mt-2 bg-lightblue/10 rounded-full h-10 flex items-center flex-row justify-between px-3",children:[(0,a.jsx)("span",{className:"pl-3 text-x-sm text-xdarkblue font-poppins font-xmedium",children:l}),(0,a.jsx)(xe.Bk2,{className:"text-xdarkblue cursor-pointer"})]})})]}),(0,a.jsxs)("div",{className:"flex-col mt-6",children:[(0,a.jsx)("span",{className:"text-x-xs text-xdarkblue font-termina font-xbold",children:"FRIEND BOOST"}),(0,a.jsxs)(xt,{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center",children:[(0,a.jsx)(wt,{className:"flex-1",title:"MULTIPLIER",value:F?"+".concat(F,"X"):void 0,highlight:!0}),(0,a.jsx)(wt,{className:"flex-1",title:"INVITED NUM",value:x,highlight:!0})]}),c?(0,a.jsxs)("div",{className:"mt-5 bg-lightblue/10 p-2 rounded-full flex flex-row items-center",children:[(0,a.jsx)(xe.BO3,{className:"mr-1 text-lightblue"}),(0,a.jsx)("span",{className:"text-x-xs text-lightblue font-poppins font-xmedium",children:"You can only use 1 Invite Code."})]}):(0,a.jsxs)("div",{className:"mt-4 flex flex-row items-center",children:[(0,a.jsx)(f.II,{theme:"dark",value:w,placeholder:"ENTER INVITE CODE",onChange:function(e){var t=e.target.value;j(t)}}),(0,a.jsx)(f.zx,{onClick:E,className:"ml-2 rounded-full !text-x-xs",btnText:"CONFIRM",type:"confirm",disabled:!w,loading:_})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center mt-6",children:[(0,a.jsxs)("div",{className:"flex-1 mr-2",children:[(0,a.jsx)("span",{className:"text-x-xs text-xdarkblue font-termina font-xbold",children:"CHAT BOOST"}),(0,a.jsx)(xt,{className:"mt-2",title:"MULTIPLIER",value:L?"+".concat(L,"X"):void 0})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("span",{className:"text-x-xs text-xdarkblue font-termina font-xbold",children:"ROYAL BOOST"}),(0,a.jsx)(xt,{className:"mt-2",title:"MULTIPLIER",value:Z?"+".concat(Z,"X"):void 0})]})]})]})})},yt="/images/palio/badge_daily.svg",_t="/images/palio/badge_series.svg",Nt="/images/palio/badge_weekly.svg",kt="/images/palio/title_quest.svg",Ft="/images/palio/title_vote.svg",Lt="/images/palio/task_bg.svg",Zt="/images/palio/ticket_two.svg",Et="/images/palio/timer.svg",St="/images/palio/ticket_bg.svg",Bt="/images/palio/line.svg",It="/images/palio/logo.svg",At="/images/palio/nav_header.svg",Mt="/images/palio/crown.svg",Pt="/images/palio/pet/xiaoguangren.png",Ot=n(40907),Tt=function(e){var t=e.data,n=e.index,r=void 0===n?0:n,i=e.onIndexChange,o=ve(),s=o.showChat,l=o.showQuest,c=(0,y.useState)(r),u=c[0],p=c[1],f=(0,y.useCallback)((function(){var e=document.getElementById("__next"),t=document.documentElement,n=document.body,r=t.scrollTop?t:n.scrollTop?n:(null===e||void 0===e?void 0:e.scrollTop)?e:null;r&&r.scrollTo({top:0})}),[]);return(0,y.useEffect)((function(){p(r)}),[r]),(0,a.jsxs)("div",{className:"w-[250px] z-[10] fixed top-[325px] right-[40px] inline-flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"py-5 relative bg-[#2A3066]",children:(0,a.jsx)("div",{onClick:f,className:"mx-auto w-[77px] h-[22px] relative cursor-pointer",children:(0,a.jsx)(Ot.Z,{src:It,layout:"fill",className:"w-full h-full",objectFit:"contain"})})}),(0,a.jsx)("div",{className:"w-full h-[30px] ",style:{backgroundSize:"100%",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(At,")")}}),(0,a.jsxs)("div",{className:"relative bg-[#2A3066]",children:[(0,a.jsx)("span",{className:"inline-block z-[1] w-[200px] h-[200px] rotate-45 bg-[#323870] absolute top-[15px] left-[187px] rounded-lg"}),(0,a.jsx)("span",{className:"inline-block z-[1] w-[200px] h-[200px] rotate-45 bg-[#323870] absolute -bottom-[50px] right-[160px] rounded-lg"}),t.map((function(e,n){var r=n===u,o="chat"===e.id&&!s||"quest"===e.id&&!l;return(0,a.jsxs)("div",{className:d()("z-[2] relative mx-5 flex flex-row items-center justify-center h-20 border-b-2 border-dashed border-white/30 cursor-pointer",n===t.length-1?"border-none":"",{hidden:o}),onClick:function(){p(n),null===i||void 0===i||i(e,n)},children:[r&&(0,a.jsx)("div",{className:"bg-[#BBC2FF] w-3 h-3 rotate-45"}),(0,a.jsx)("span",{className:d()("text-base  font-poppins mx-3",r?"text-white":"text-white/30"),children:e.title}),r&&(0,a.jsx)("div",{className:"bg-[#BBC2FF] w-3 h-3 rotate-45"})]},n)}))]})]})},Rt=["This Palio avatar is generated by AI based on your interactions during this event.","The traits from this event are limited and will not be available afterwards."];function Dt(){return(0,a.jsxs)("div",{className:"w-[500px] mx-auto mt-1 font-poppins text-xs text-white",children:[(0,a.jsx)("p",{className:"font-semibold mb-3",children:"Note:"}),(0,a.jsx)("ul",{className:"text-white/70",children:Rt.map((function(e,t){return(0,a.jsxs)("li",{children:[t+1,".",e]},e)}))})]})}function zt(){var e,t,n,i,o,c,u=(0,y.useState)(""),d=u[0],x=u[1],v=(0,s.Z)((0,l.Z)(),2),g=v[0],j=v[1],C=(0,s.Z)((0,l.Z)(),2),_=C[0],N=C[1],k=(0,s.Z)((0,l.Z)(),2),Z=k[0],E=k[1],S=ve(),B=S.account,A=S.accountWallet,M=S.palio_network,P=S.network,O=S.eggStatus,T=S.setGenerateModal,D=S.mutate,z=S.palio_incubator_contract_address,U=S.palioEggInfo,G=function(){var e=(0,m.Z)(b().mark((function e(){var t,n,r,i,a,o,s,l,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=3;break}return e.abrupt("return");case 3:if(!d){e.next=6;break}return(0,we.U)(je.ly.PalioNft,{imageUrl:d}),e.abrupt("return");case 6:if(s=document.getElementById("cut"),(l=null===s||void 0===s?void 0:s.getContext("2d"))&&s&&(null===(t=U.palio_nft)||void 0===t||null===(n=t.active)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.public_url)){e.next=10;break}return e.abrupt("return");case 10:E.setTrue(),(c=new Image).src=null===(i=U.palio_nft)||void 0===i||null===(a=i.active)||void 0===a||null===(o=a.image)||void 0===o?void 0:o.public_url,c.crossOrigin="Anonymous",c.onload=function(){l.drawImage(c,0,-30,400,400),s.toBlob(function(){var e=(0,m.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,(0,Ce.$)(t,"png","launchpad");case 3:n=e.sent,console.log("imageUrl",n),x(n),(0,we.U)(je.ly.PalioNft,{imageUrl:n}),E.setFalse();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=(0,w.Z)((0,m.Z)(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B||!P){e.next=8;break}return e.t0=s.Z,e.next=4,Promise.all([R(P,z,B)]);case 4:return e.t1=e.sent,t=(0,e.t0)(e.t1,1),n=t[0],e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),{refreshOnWindowFocus:!1,refreshDeps:[P,B]}),V=W.data,H=W.refresh,$=(0,y.useRef)(),q=(0,pe.lm)().noti,K=Se({scene:Le.regenerate,network:P,contractAddress:z||"",funcSignature:"regenerate",tradeId:"",notiRef:$,specificContractABI:I.l0}),X=K.estimateGasAndSendTx,Y=K.isLoading,Q=K.isSuccess,J=V?L*(V>=3?3:V+1):L,ee=function(){var e=(0,m.Z)(b().mark((function e(){var t,n,r,i,a,o,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===(t=U.palio_nft)||void 0===t?void 0:t.alternative)||(null!==V&&void 0!==V?V:0)>(null!==(a=null===(n=U.palio_nft)||void 0===n||null===(r=n.eliminated)||void 0===r?void 0:r.length)&&void 0!==a?a:0)+((null===(i=U.palio_nft)||void 0===i?void 0:i.alternative)?1:0))){e.next=5;break}return T(!0),e.abrupt("return");case 5:if(N.setTrue(),(0,pe.dO)("palio_regenerate"),o=[],s=Fe(J.toString()),!A){e.next=13;break}return e.next=12,X({wallet:A,txParams:o,txFrom:B,txValue:s,needConnect:!0});case 12:setTimeout((function(){N.setFalse()}),100);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,y.useEffect)((function(){Q&&(T(!0),H(),setTimeout((function(){H&&H()}),5e3))}),[Q,H,T]);var te=Se({scene:Le.mint,network:M,contractAddress:p.Mz[M],funcSignature:"mintWithSig",tradeId:"",notiRef:$}),ne=te.estimateGasAndSendTx,ie=te.isLoading,ae=te.isSuccess,oe=function(){var e=(0,m.Z)(b().mark((function e(){var t,n,r,i,a,o,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B||!(null===(t=U.palio_nft)||void 0===t||null===(n=t.active)||void 0===n?void 0:n.ID)){e.next=25;break}return j.setTrue(),e.prev=4,D((function(e){var t,n;return(null===e||void 0===e||null===(t=e.palioEggInfo)||void 0===t||null===(n=t.palio_nft)||void 0===n?void 0:n.active)&&(e.palioEggInfo.palio_nft.active.status=F.Minting),e?(0,h.Z)({},e):e})),e.next=9,re(B,null===(i=U.palio_nft)||void 0===i||null===(a=i.active)||void 0===a?void 0:a.ID);case 9:r=e.sent,e.next=20;break;case 12:return e.prev=12,e.t0=e.catch(4),j.setFalse(),D((function(e){var t,n;return(null===e||void 0===e||null===(t=e.palioEggInfo)||void 0===t||null===(n=t.palio_nft)||void 0===n?void 0:n.active)&&(e.palioEggInfo.palio_nft.active.status=F.Selected),e?(0,h.Z)({},e):e})),console.error("fetch palio incubation mint sig error",e.t0),o=e.t0.err_msg,q("error",o||"Please try again later."),e.abrupt("return");case 20:if(!r||!A){e.next=25;break}return s=[r.token_type,r.token_address,r.token_id,r.amount,[r.limit_for_buyer_id,r.limit_for_buyer_amount,r.limit_for_token_id,r.limit_for_token_amount],r.payment_token_address,r.payment_token_amount,r.payee_address,r.expire_time,r.sign_msg],e.next=24,ne({wallet:A,txParams:s,txFrom:B,needConnect:!0});case 24:setTimeout(j.setFalse,100);case 25:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return(0,y.useEffect)((function(){ae&&D((function(e){var t,n;return(null===e||void 0===e||null===(t=e.palioEggInfo)||void 0===t||null===(n=t.palio_nft)||void 0===n?void 0:n.active)&&(e.palioEggInfo.palio_nft.active.status=F.Minted),e?(0,h.Z)({},e):e}))}),[ae,D]),(0,a.jsx)("div",{className:"flex justify-center text-[#010101] text-x-base font-[AaHuanLeBao] pb-14",children:O===r.SelectDone?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:(null===(e=U.palio_nft)||void 0===e?void 0:e.alternative)||ie||Y||g||_?void 0:oe,disabled:!!(null===(t=U.palio_nft)||void 0===t?void 0:t.alternative)||ie||Y||g||_,className:"mx-6 relative w-[187px] h-[62px] active:scale-95 disabled:opacity-40 disabled:active:scale-100",children:[(0,a.jsxs)("svg",{className:"absolute left-0 top-0",width:"187.123047",height:"61.531860",viewBox:"0 0 187.123 61.5319",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"filter_656_19_dd",x:"0.000000",y:"0.000000",width:"187.123047",height:"61.531860",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dx:"1.87789",dy:"3.53179"}),(0,a.jsx)("feGaussianBlur",{stdDeviation:"0"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.090196 0 0 0 0 0.1098 0 0 0 0 0.26275 0 0 0 0.84 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"})]})}),(0,a.jsx)("g",{filter:"url(#filter_656_19_dd)",children:(0,a.jsx)("path",{id:"\u5706\u89d2\u77e9\u5f62 2 \u62f7\u8d1d",d:"M13.9189 13.0909L177.914 0.0668182C182.162 -0.385254 185.468 1.50255 185.233 4.33788L183.715 42.9516C183.412 46.613 179.12 49.7106 174.216 49.7957L5.23242 57.9988C1.46338 58.0645 -0.745117 55.5077 0.230469 52.3421L6.42236 18.3002C7.20361 15.7645 10.5361 13.451 13.9189 13.0909Z",fill:"#F4F3F4",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),ie||g?(0,a.jsx)(f.gb,{size:16,className:"mr-1",variant:"blue"}):(0,a.jsx)("span",{className:"relative z-[1]",children:"Create"})]}),(0,a.jsxs)("button",{onClick:Y||g||_||Number(V||"0")>=3||(null===(n=U.palio_nft)||void 0===n||null===(i=n.active)||void 0===i?void 0:i.status)===F.Minting?void 0:ee,disabled:Y||g||_||Number(V||"0")>=3||(null===(o=U.palio_nft)||void 0===o||null===(c=o.active)||void 0===c?void 0:c.status)===F.Minting,className:"mx-6 relative w-[187px] h-[62px] active:scale-95 disabled:opacity-40 disabled:active:scale-100",children:[(0,a.jsxs)("svg",{className:"absolute left-0 top-0",width:"187.123047",height:"61.531872",viewBox:"0 0 187.123 61.5319",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"filter_656_7_dd",x:"0.000000",y:"0.000000",width:"187.123047",height:"61.531872",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dx:"1.87789",dy:"3.53179"}),(0,a.jsx)("feGaussianBlur",{stdDeviation:"0"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.090196 0 0 0 0 0.1098 0 0 0 0 0.26275 0 0 0 0.84 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"})]}),(0,a.jsxs)("filter",{id:"filter_656_8_dd",x:"0.000977",y:"-0.000008",width:"187.123047",height:"61.531876",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dx:"1.87789",dy:"3.53179"}),(0,a.jsx)("feGaussianBlur",{stdDeviation:"0"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.090196 0 0 0 0 0.1098 0 0 0 0 0.26275 0 0 0 0.84 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"})]})]}),(0,a.jsx)("g",{filter:"url(#filter_656_7_dd)",children:(0,a.jsx)("path",{id:"\u51cf\u53bb\u9876\u5c42",d:"M13.9189 13.0909L177.914 0.0668182C182.162 -0.385246 185.468 1.50256 185.233 4.33789L183.715 42.9516C183.412 46.613 179.12 49.7107 174.216 49.7957L5.23242 57.9988C1.46338 58.0645 -0.745117 55.5077 0.230469 52.3421L6.42236 18.3002C7.20361 15.7645 10.5361 13.451 13.9189 13.0909ZM172.002 34C169.793 34 168.002 35.7909 168.002 38C168.002 40.2091 169.793 42 172.002 42C174.211 42 176.002 40.2091 176.002 38C176.002 35.7909 174.211 34 172.002 34Z",clipRule:"evenodd",fill:"#FF9DE9",fillOpacity:"1.000000",fillRule:"evenodd"})})]}),(0,a.jsxs)("svg",{className:"absolute -right-11 -bottom-14",width:"70.738770",height:"78.869041",viewBox:"0 0 70.7388 78.869",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{id:"\u77e2\u91cf 23",d:"M10.999 16.0001L11.999 25.0001",stroke:"#FFFFFF",strokeOpacity:"1.000000",strokeWidth:"2.000000"}),(0,a.jsx)("path",{id:"\u51cf\u53bb\u9876\u5c42",d:"M21.0645 26.048L66.8008 60.916C71.1929 64.2643 72.0391 70.5392 68.6904 74.9313C65.3423 79.3233 59.0674 80.1694 54.6753 76.8211L8.93896 41.9531C4.54688 38.6047 3.70068 32.3298 7.04883 27.9378C10.3975 23.5457 16.6724 22.6996 21.0645 26.048ZM10.9868 27.9846C9.88232 27.9846 8.98682 28.8801 8.98682 29.9846C8.98682 31.0892 9.88232 31.9846 10.9868 31.9846C12.0913 31.9846 12.9868 31.0892 12.9868 29.9846C12.9868 28.8801 12.0913 27.9846 10.9868 27.9846Z",clipRule:"evenodd",fill:"#99FEFF",fillOpacity:"1.000000",fillRule:"evenodd"}),(0,a.jsx)("path",{id:"\u77e2\u91cf 22",d:"M13.5 1C7.67627 1 0.970215 10.7724 1 16.5C1.02441 21.1157 5.30078 26.7515 12 30.5",stroke:"#FFFFFF",strokeOpacity:"1.000000",strokeWidth:"2.000000"})]}),(0,a.jsxs)("em",{className:"absolute -right-11 -bottom-[36px] rotate-[38deg] not-italic text-x-xs",children:[J," BNB"]}),Y||_?(0,a.jsx)(f.gb,{size:16,className:"mr-1",variant:"blue"}):(0,a.jsx)("span",{className:"relative z-[1]",children:"Regenerate"}),(0,a.jsx)("span",{className:"absolute inline-block w-8 h-[18px] leading-[18px] rounded-full bg-[#161B41] text-white font-poppins text-x-xs right-0 -top-2",children:"".concat(3-(null!==V&&void 0!==V?V:0)," / ").concat(3)})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("canvas",{id:"cut",width:400,height:200,className:"absolute left-[300vw] top-0"}),(0,a.jsxs)("button",{disabled:Z,onClick:G,className:"relative w-[235px] h-[56px] active:scale-95",children:[(0,a.jsxs)("svg",{className:"absolute left-0 top-0",width:"237.121094",height:"69.000000",viewBox:"0 0 237.121 69",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"filter_408_55_dd",x:"0.000000",y:"0.000000",width:"237.121094",height:"59.531738",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dx:"1.87789",dy:"3.53179"}),(0,a.jsx)("feGaussianBlur",{stdDeviation:"0"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.090196 0 0 0 0 0.1098 0 0 0 0 0.26275 0 0 0 0.84 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"})]})}),(0,a.jsx)("path",{id:"\u51cf\u53bb\u9876\u5c42",d:"",fill:"#99FEFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("g",{filter:"url(#filter_408_55_dd)",children:(0,a.jsx)("path",{id:"\u5706\u89d2\u77e9\u5f62 2 \u62f7\u8d1d",d:"M13.918 11.0908L227.912 0.0667725C232.162 -0.385254 235.467 1.50256 235.232 4.33789L233.715 42.9517C233.41 46.613 229.119 49.7107 224.215 49.7957L5.23242 55.9988C1.46289 56.0645 -0.744141 53.5077 0.230469 50.342L6.42188 16.3002C7.20312 13.7645 10.5352 11.4509 13.918 11.0908Z",fill:"#99FEFF",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),(0,a.jsx)("span",{className:"relative z-[1] flex items-center justify-center",children:Z?(0,a.jsx)(f.gb,{size:16,className:"mr-1",variant:"blue"}):"Show off your Palio\uff01"})]})]})})}var Ut=["Initializing Palio Model...","Generating prompts from your interaction with Palio...","Analyzing Prompt Data to Identify Core Visual Components...","Encoding Affirmative Prompt Parameters...","Encoding Inhibitory Prompt Parameters...","Commencing Palio Image Generation..."];function Gt(e){var t,n,r,i=e.extraClass,o=e.select,s=ve(),l=s.palioEggInfo,c=s.setGenerateLoading,u=(0,y.useState)(0),p=u[0],f=u[1],x=Ut[p]||Ut[5];return(0,C.Z)((function(){f((function(e){return e>=6?5:e+1}))}),p<4?Wt(300,700):4===p?Wt(2e3,3e3):5===p?1e3:void 0),(0,y.useEffect)((function(){p>=6&&c(!1)}),[p,c]),(0,a.jsxs)("div",{className:d()("text-center w-[360px] h-[430px] mt-5 relative z-[1]",i),children:[(0,a.jsx)("span",{className:'inline-block w-full pt-[100%] bg-contain bg-[url("/images/palio/egg/nft-loading.gif")]'}),(0,a.jsx)("p",{className:d()("text-[#99FEFF] font-[AaHuanLeBao] text-xl leading-6",o?"mt-8":"mt-4"),children:"Generating"}),(0,a.jsx)("p",{className:"font-poppins text-white text-xs mt-2",children:x}),(0,a.jsx)("img",{width:0,height:0,src:null===(t=l.palio_nft)||void 0===t||null===(n=t.alternative)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.public_url,alt:""})]})}function Wt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function Vt(e){var t,n,r,i,o,s,l=e.select,c=e.active,u=ve().palioEggInfo,p=!c&&l?null===(t=u.palio_nft)||void 0===t?void 0:t.alternative:null===(n=u.palio_nft)||void 0===n?void 0:n.active;return(0,a.jsxs)("div",{className:d()("w-[335px] h-[68px] relative mx-auto  pt-[35px]","mt-[41px]"),children:[(0,a.jsxs)("svg",{className:"absolute inset-0 z-[1]",width:"335.001465",height:"68.000092",viewBox:"0 0 335.001 68.0001",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{id:"\u77e2\u91cf 16",d:"M12.7817 17.9091L5.80762 26.6573C5.22412 27.3889 5.01562 28.3508 5.24365 29.2583L13.6572 62.7509C13.9897 64.0744 15.1733 65.0067 16.5381 65.0199L323.422 67.9868C324.294 67.9868 325.127 67.6236 325.703 66.9688L334.124 57.3994C334.683 56.7648 334.947 55.9239 334.854 55.0837L330.862 19.4454C330.692 17.9273 329.409 16.7793 327.881 16.7793L15.1274 16.7793C14.2144 16.7793 13.3511 17.1952 12.7817 17.9091Z",fill:"#A5ACE7",fillOpacity:l?.4:1,fillRule:"evenodd"}),(0,a.jsx)("path",{id:"\u77e2\u91cf 17",d:"M5.02295 2.2652L0.696777 14.8748C0.280273 16.0891 0.682129 17.4339 1.69727 18.22L7.00635 22.3327C7.53223 22.74 8.17871 22.961 8.84375 22.961L64.5195 22.961C65.8804 22.961 67.0703 22.0452 67.4194 20.7299L69.7148 12.0727C69.9604 11.1457 69.7485 10.1571 69.144 9.4126L67.6069 7.51984C67.1079 6.90521 66.3857 6.51282 65.5986 6.42819L8.18115 0.255951C6.78857 0.106232 5.47754 0.940247 5.02295 2.2652Z",fill:c?"#99FEFF":"#FF9DE9",fillOpacity:"1.000000",fillRule:"evenodd"}),(0,a.jsx)("path",{id:"\u77e2\u91cf 20",d:"M51.9736 32.0001L45 48.9016L51.9736 56.0001L155.437 55.9576L162 37.0278L154.207 32.9714L51.9736 32.0001Z",fill:"#394181",fillOpacity:"1.000000",fillRule:"evenodd"}),(0,a.jsx)("path",{id:"\u77e2\u91cf 20",d:"M210.974 32.0001L204 48.9016L210.974 56.0001L314.437 55.9576L321 37.0278L313.207 32.9714L210.974 32.0001Z",fill:"#394181",fillOpacity:"1.000000",fillRule:"evenodd"})]}),(0,a.jsx)("img",{className:"inline-block w-9 h-9 absolute z-[3] left-6 top-[26px]",src:null===p||void 0===p||null===(r=p.trait1)||void 0===r?void 0:r.icon}),(0,a.jsx)("img",{className:"inline-block w-9 h-9 absolute z-[3] left-[180px] top-[26px]",src:null===p||void 0===p||null===(i=p.trait2)||void 0===i?void 0:i.icon}),(0,a.jsx)("span",{className:"font-[AaHuanLeBao] text-[#232A65] text-x-sm absolute z-[3] left-1.5 top-1.5",children:"Traits:"}),(0,a.jsxs)("div",{className:"flex justify-between items-center ml-15 mr-5 relative z-[2] text-x-xs font-poppins pt-1 text-[#BCC3F8]",children:[(0,a.jsx)("p",{className:"w-[100px] text-center h-4",children:null===p||void 0===p||null===(o=p.trait1)||void 0===o?void 0:o.name}),(0,a.jsx)("p",{className:"w-[100px] text-center h-4",children:null===p||void 0===p||null===(s=p.trait2)||void 0===s?void 0:s.name})]})]})}function Ht(e){var t,n,r,i=e.extraClass,o=(null===(t=ve().palioEggInfo.palio_nft)||void 0===t||null===(n=t.active)||void 0===n||null===(r=n.image)||void 0===r?void 0:r.public_url)||"";return(0,a.jsxs)("div",{id:"xxxxxx",className:d()("text-center relative z-[1] pt-20",i),children:[(0,a.jsx)("img",{width:330,height:330,src:o,className:"inline-block"}),(0,a.jsx)(Vt,{})]})}function $t(){var e=ve(),t=e.generateIng,n=e.generateModal;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-[440px] h-[565px] mx-auto flex justify-center relative",children:[(0,a.jsx)("span",{className:"inline-block w-[400px] h-14 bg-[#232A65] absolute left-5 bottom-[126px] z-[0] rounded-[200px/28px]"}),t&&!n?(0,a.jsx)(Gt,{extraClass:"!mt-15"}):null,(0,a.jsx)(Ht,{extraClass:t&&!n?"!absolute left-[300vw]":""})]}),(0,a.jsx)(zt,{}),(0,a.jsx)(Dt,{})]})}var qt=n(39498);function Kt(e){var t,n,r,i,o,s,l,c=e.active,u=ve(),p=u.palioEggInfo,f=u.account,x=u.generateIng,h=u.setGenerateModal,v=u.refreshIncubation,g=c?null===(t=p.palio_nft)||void 0===t?void 0:t.active:null===(n=p.palio_nft)||void 0===n?void 0:n.alternative;return(0,qt.Z)(v,c||(null===(r=p.palio_nft)||void 0===r?void 0:r.alternative)?void 0:5e3),(0,y.useEffect)((function(){var e;(null===(e=p.palio_nft)||void 0===e?void 0:e.alternative)&&h(!1)}),[null===(i=p.palio_nft)||void 0===i?void 0:i.alternative,h]),(0,a.jsxs)("div",{className:"w-[386px] h-[549px] mx-auto flex justify-center relative pt-[60px]",children:[(0,a.jsxs)("span",{className:"absolute left-[93px] -top-2.5 z-[1] w-[200px] h-[54px] font-[AaHuanLeBao] text-x-6 text-[#232A65] inline-flex pt-2 pl-6",children:[(0,a.jsxs)("svg",{className:"absolute inset-0",width:"200.802734",height:"52.954712",viewBox:"0 0 200.803 52.9547",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"\u77e2\u91cf 24",d:"M17.8926 0.0646973L0.646484 6.59094C0.0761719 6.80664 -0.169922 7.47791 0.125 8.01099L24.7539 52.4396C24.9434 52.7811 25.3145 52.9812 25.7031 52.9519L190.588 40.5359C190.889 40.5132 191.164 40.3553 191.336 40.1064L200.625 26.637C200.885 26.262 200.855 25.7594 200.559 25.4149L178.863 0.345581C178.674 0.126099 178.398 0 178.107 0L18.248 0C18.127 0 18.0059 0.0219727 17.8926 0.0646973Z",fill:c?"#99FEFF":"#FF9DE9",fillOpacity:"1.000000",fillRule:"evenodd"})]}),(0,a.jsx)("em",{className:"not-italic relative z-[1] inline-block w-[153px] h-8 text-center",children:c?"Previous":"New"})]}),(0,a.jsxs)("button",{disabled:!(null===(o=p.palio_nft)||void 0===o?void 0:o.alternative),onClick:(0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===g||void 0===g?void 0:g.ID)||!f){e.next=4;break}return e.next=3,te(f,null===g||void 0===g?void 0:g.ID);case 3:v();case 4:h(!1);case 5:case"end":return e.stop()}}),e)}))),className:"absolute z-[10] -bottom-2 left-24 w-[166px] h-[54px] active:scale-95 flex items-center justify-center disabled:opacity-40",children:[(0,a.jsxs)("svg",{className:"absolute z-[1] left-0 top-0",width:"165.876953",height:"54.531860",viewBox:"0 0 165.877 54.5319",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"filter_604_595_dd",x:"0.000000",y:"0.000000",width:"165.876953",height:"54.531860",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dx:"1.87789",dy:"3.53179"}),(0,a.jsx)("feGaussianBlur",{stdDeviation:"0"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.090196 0 0 0 0 0.1098 0 0 0 0 0.26275 0 0 0 0.84 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"})]})}),(0,a.jsx)("g",{filter:"url(#filter_604_595_dd)",children:(0,a.jsx)("path",{id:"\u5706\u89d2\u77e9\u5f62 2 \u62f7\u8d1d",d:"M12.3223 11.511L157.51 0.0587158C161.271 -0.338745 164.197 1.32117 163.99 3.81433L162.645 37.7678C162.377 40.9873 158.578 43.7111 154.236 43.7859L4.63281 50.999C1.29492 51.0568 -0.660156 48.8085 0.203125 46.0249L5.68555 16.0916C6.37695 13.8619 9.32812 11.8275 12.3223 11.511Z",fill:"#F4F3F4",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),(0,a.jsx)("span",{className:"font-[AaHuanLeBao] text-[#232A65] text-x-sm absolute z-[3]",children:"Choose This"})]}),(0,a.jsx)("svg",{className:"absolute inset-0",width:"385.169922",height:"546.393921",viewBox:"0 0 385.17 546.394",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{id:"\u77e9\u5f62 1095",d:"M19.3262 11.6365L364.496 0.0115967C376.109 -0.379517 385.611 9.17566 385.154 20.787L366.676 490.135C366.287 500.002 358.756 508.109 348.943 509.221L22.2539 546.264C10.3906 547.609 0 538.33 0 526.391L0 31.6251C0 20.8414 8.54883 11.9994 19.3262 11.6365Z",fill:"#394181",fillOpacity:"1.000000",fillRule:"evenodd"})}),x&&c||!(null===g||void 0===g?void 0:g.image_id)?(0,a.jsx)(Gt,{select:!0,extraClass:"!mt-0 !w-[300px] !h-[300px]"}):null,(null===g||void 0===g||null===(s=g.image)||void 0===s?void 0:s.public_url)?(0,a.jsxs)("div",{className:d()("text-center",x&&c||!(null===g||void 0===g?void 0:g.image_id)?"!absolute left-[300vw]":" relative z-[1] pt-5 -left-2"),children:[(0,a.jsx)("img",{width:268,height:268,src:(null===g||void 0===g||null===(l=g.image)||void 0===l?void 0:l.public_url)||"",className:"inline-block"}),(0,a.jsx)(Vt,{active:c,select:!0})]}):null]})}var Xt=n(21066),Yt=n.n(Xt),Qt=function(e){var t=e.num,n=void 0===t?0:t,r=e.delay,i=void 0===r?1:r,o=e.size,c=void 0===o?20:o,u=e.width,p=e.height,f=e.textClass,x=(0,s.Z)((0,l.Z)(!0),2),m=x[0],g=x[1],b=(0,y.useMemo)((function(){return{"--num":n,"--delay":i}}),[i,n]);return(0,y.useEffect)((function(){g.setTrue()}),[n,g]),(0,a.jsx)("div",{className:d()("text-white text-center text-x-base overflow-hidden",f),onAnimationEnd:function(){g.setFalse()},style:(0,v.Z)((0,h.Z)({},b),{width:(u||c)+"px",height:1*(p||c)+"px",lineHeight:1*(p||c)+"px"}),children:(0,a.jsxs)("ul",{className:d()("px-0 py-0 mx-0 my-0 list-none",m?Yt().animation_number:""),style:{transform:"translateY(calc(".concat(n," * -9.09%)")},children:[(0,a.jsx)("li",{children:"0"}),(0,a.jsx)("li",{children:"1"}),(0,a.jsx)("li",{children:"2"}),(0,a.jsx)("li",{children:"3"}),(0,a.jsx)("li",{children:"4"}),(0,a.jsx)("li",{children:"5"}),(0,a.jsx)("li",{children:"6"}),(0,a.jsx)("li",{children:"7"}),(0,a.jsx)("li",{children:"8"}),(0,a.jsx)("li",{children:"9"}),(0,a.jsx)("li",{children:"0"})]})})},Jt=function(e){var t=e.number,n=e.textClass,r=e.charWidth,i=void 0===r?12:r,o=e.charHeight,s=e.className,l=(0,y.useState)(""),c=l[0],u=l[1],d=(0,y.useMemo)((function(){return c.split("").map((function(e){return Number(e)}))}),[c]);return(0,y.useEffect)((function(){u(t)}),[t]),(0,a.jsx)("div",{className:"flex flex-row items-center ".concat(s),children:d.map((function(e,t){return(0,a.jsx)(Qt,{num:e,delay:t+1,width:i,height:o||1.6*i,textClass:n},t)}))})};function en(){var e=ve(),t=e.palioPointInfo,n=e.vip,i=e.onOpenPointFriend,o=e.onOpenPointDash,s=e.setArr,l=e.network,c=e.accountWallet,u=e.account,p=e.palio_incubator_contract_address,f=e.refreshPoints,x=e.mutate,g=t.rank,w=void 0===g?1e6:g,j=t.next_rank_point,C=void 0===j?0:j,_=(t.nft_point,t.point),N=void 0===_?[]:_,k=t.boost,F=void 0===k?[]:k,E=(null===F||void 0===F?void 0:F.reduce((function(e,t){return e+t.value}),0))||0,S=(null===N||void 0===N?void 0:N.reduce((function(e,t){return e+t.value}),0))||0,B=(0,y.useRef)(),A=Se({scene:Le.boost,network:l,contractAddress:p||"",funcSignature:"boost",tradeId:"",notiRef:B,specificContractABI:I.l0}),M=A.estimateGasAndSendTx,P=A.isLoading,O=A.isSuccess,T=function(){var e=(0,m.Z)(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,pe.dO)("palio_boost"),t=[],n=Fe(L.toString()),!c){e.next=6;break}return e.next=6,M({wallet:c,txParams:t,txFrom:u,txValue:n,needConnect:!0});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.useEffect)((function(){O&&(s((function(e){return[Z[r.Claimed].vip]})),x((function(e){return(0,v.Z)((0,h.Z)({},e||{}),{vip:!0})})),setTimeout((function(){f()}),4e3),setTimeout((function(){f()}),8e3))}),[O,x,f,s]),(0,a.jsxs)("div",{className:'relative w-[669px] h-[188px] bg-[url("/images/palio/egg/calc.png")] bg-cover mx-auto mt-10 font-[AaHuanLeBao] text-white text-x-2xl pt-[52px] text-center',children:[(0,a.jsxs)("div",{className:"h-12 flex pt-1",children:[(0,a.jsx)(Jt,{className:"w-[224px] justify-center",number:((E+1)*S).toString(),textClass:"!text-[35px] !text-[#232A65] font-[AaHuanLeBao]",charWidth:26,charHeight:37}),(0,a.jsxs)("div",{className:"w-40 ml-10 text-center relative leading-[48px]",children:[S,(0,a.jsx)("button",{onClick:o,className:"absolute top-[14px] right-2 w-5 h-5 rounded-full bg-[#7BD6F9] hover:bg-[#CBF1FF] text-[#101010] text-xl leading-5 text-center",children:"+"})]}),(0,a.jsxs)("div",{className:"w-40 ml-11 text-center relative leading-[48px] -mt-1",children:["x",E+1,(0,a.jsx)("button",{onClick:i,className:"absolute top-[14px] right-2 w-5 h-5 rounded-full bg-[#7BD6F9] hover:bg-[#CBF1FF] text-[#101010] text-xl leading-5 text-center",children:"+"})]})]}),(0,a.jsxs)("button",{onClick:i,className:"absolute top-3.5 right-3 flex items-center w-[175px] h-[18px] rotate-[0.5deg]",children:[(0,a.jsxs)("svg",{width:"16.000000",height:"16.000000",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("rect",{id:"\u6837\u5f0f/\u56fe\u6807/\u901a\u7528/user",width:"16.000000",height:"16.000000",fill:"#99FEFF",fillOpacity:"0"}),(0,a.jsx)("path",{id:"Shape",d:"M4.44458 4.44446C4.44458 6.40808 6.03662 8 8.00024 8C9.96362 8 11.5557 6.40808 11.5557 4.44446C11.5557 2.48096 9.96362 0.888916 8.00024 0.888916C6.03662 0.888916 4.44458 2.48096 4.44458 4.44446ZM13.7778 15.1112C14.2686 15.1112 14.6667 14.7134 14.6667 14.2223L14.6667 12.0001C14.6667 10.5272 13.4731 9.33337 12.0002 9.33337L4.00024 9.33337C2.52734 9.33337 1.3335 10.5272 1.3335 12.0001L1.3335 14.2223C1.3335 14.7134 1.7312 15.1112 2.22241 15.1112L13.7778 15.1112Z",clipRule:"evenodd",fill:"#99FEFF",fillOpacity:"1.000000",fillRule:"evenodd"}),(0,a.jsx)("mask",{id:"mask147_18",maskUnits:"userSpaceOnUse",x:"1.000000",y:"1.000000",width:"13.333372",height:"14.222292",children:(0,a.jsx)("path",{id:"Shape",d:"M4.11133 4.55554C4.11133 6.51917 5.70312 8.11108 7.66675 8.11108C9.63037 8.11108 11.2224 6.51917 11.2224 4.55554C11.2224 2.59204 9.63037 1 7.66675 1C5.70312 1 4.11133 2.59204 4.11133 4.55554ZM13.4446 15.2223C13.9351 15.2223 14.3333 14.8245 14.3333 14.3334L14.3333 12.1112C14.3333 10.6383 13.1396 9.44446 11.6667 9.44446L3.66675 9.44446C2.19385 9.44446 1 10.6383 1 12.1112L1 14.3334C1 14.8245 1.39771 15.2223 1.88892 15.2223L13.4446 15.2223Z",clipRule:"evenodd",fill:"#99FEFF",fillOpacity:"1.000000",fillRule:"evenodd"})})]}),(0,a.jsx)("p",{className:"font-poppins text-[#99FEFF] text-x-xs ml-1.5 mr-2",children:"Invite Friends To Boost"}),(0,a.jsx)("svg",{width:"6.000000",height:"8.999756",viewBox:"0 0 6 8.99976",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{id:"\u5f62\u72b6 30 \u62f7\u8d1d",d:"M0 0L6 4.90906L0 8.99976L0 0Z",fill:"#99FEFF",fillOpacity:"1.000000",fillRule:"nonzero"})})]}),(0,a.jsx)("button",{disabled:n||P,onClick:function(){return!n&&T()},className:d()("absolute right-1 bottom-[60px] -rotate-[0.8deg]",P&&"opacity-60"),children:(0,a.jsx)("p",{className:d()("font-poppins text-x-xs mr-0.5 w-[200px] flex items-center justify-center","text-[#FFB020]"),children:n?"Royal Boost Purchased ":(0,a.jsxs)("span",{className:"pl-5 flex items-center",children:["Buy Royal Boost +10x",(0,a.jsx)("svg",{className:"ml-5",width:"6.000000",height:"8.999756",viewBox:"0 0 6 8.99976",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{id:"\u5f62\u72b6 30 \u62f7\u8d1d",d:"M0 0L6 4.90906L0 8.99976L0 0Z",fill:"#FFB020",fillOpacity:"1.000000",fillRule:"nonzero"})})]})})}),(0,a.jsxs)("div",{className:"absolute bottom-1 left-[216px] w-[270px] h-10 flex items-center",children:[(0,a.jsxs)("svg",{width:"29.367676",height:"25.258789",viewBox:"0 0 29.3677 25.2588",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"\u5f62\u72b6 982",d:"M9.40405 25.2588L0 15.9658L9.99146 17.8684L9.96289 0L21.5684 11.9751L26.9666 1.14038L29.3677 17.1519L9.40405 25.2588Z",fill:w<=10?"#FFB020":"#7BD6F9",fillOpacity:"1.000000",fillRule:"nonzero"})]}),(0,a.jsxs)("div",{className:"ml-2.5 flex-1 text-center",children:[(0,a.jsxs)("p",{className:d()("text-x-sm",1===w&&"text-[#FFB020]"),children:[(0,a.jsx)("span",{children:"Current Rank: "}),(0,a.jsx)("em",{className:d()("not-italic",w<=10?"text-[#FFB020]":"text-[#7BD6F9]"),children:w})]}),1!==w&&(0,a.jsxs)("p",{className:"text-x-xs font-poppins text-[#8B92CC] mt-2",children:[C," Points Away From Next Rank"]})]})]})]})}var tn=n(59637);function nn(){var e=(0,y.useRef)(null),t=ve(),n=t.playArr,r=t.vip,i=t.setArr,o=t.seOpenIng;return(0,a.jsxs)("div",{className:"relative w-[220px] h-[204px] mx-auto bg-cover flex items-center justify-center",children:[(0,a.jsx)("img",{className:"absolute inset-0 z-[3]",src:"/images/palio/egg-mp4/border.png",alt:""}),(0,a.jsx)("img",{style:{width:200,height:200},className:"absolute z-[1] left-2 top-0.5",src:r?"/images/palio/egg-mp4/bg-vip.png":"/images/palio/egg-mp4/bg.png",alt:""}),(0,a.jsx)("video",{className:"absolute z-[2] left-2 top-0.5 bg-transparent",onTimeUpdate:function(){if(e.current){var t,r,a,s=e.current.currentTime/e.current.duration*100;if(s>99||(null===(t=e.current.src)||void 0===t?void 0:t.endsWith("Claimed.mp4"))&&n[1]||(null===(r=e.current.src)||void 0===r?void 0:r.endsWith("Hatch.mp4"))&&s>70)(null===(a=e.current.src)||void 0===a?void 0:a.endsWith("Hatch.mp4"))&&(o(!1),e.current.removeAttribute("loop")),i((function(e){var t=(0,tn.Z)(e),n=t[0],r=t.slice(1);return(null===r||void 0===r?void 0:r.length)?r:[n]}))}},ref:e,style:{width:200,height:200},src:n[0],autoPlay:!0,muted:!0,playsInline:!0,loop:!n.length||n.length<=1})]})}var rn=n(44720),an=n(25675),on=n.n(an),sn=[{type:i.food,text:"Apple",icon:"/images/palio/icon/food.png",bg:"/images/palio/egg/machine_btn_right.png",left:137,bottom:106,paddingTop:8,paddingLeft:14},{type:i.clean,text:"Rubber Duck",icon:"/images/palio/icon/clean.png",bg:"/images/palio/egg/machine_btn_middle.png",left:208,bottom:96,paddingTop:8,paddingLeft:12},{type:i.music,text:"Music CD",icon:"/images/palio/icon/music.png",bg:"/images/palio/egg/machine_btn_right.png",left:280,bottom:106,paddingTop:8,paddingLeft:10}];function ln(e){var t=e.type,n=e.icon,r=e.text,i=e.onClaim,o=e.claimedCounts,s=e.isLoading;return(0,a.jsxs)("li",{className:"h-[77px] relative flex items-center mt-8",children:[(0,a.jsxs)("svg",{className:"absolute right-0 top-0.5 -z-[1]",width:"221.999878",height:"67.999878",viewBox:"0 0 222 67.9999",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"\u5706\u89d2\u77e9\u5f62 688",d:"M10 0L204 1.99988C209.523 1.99988 214 6.47729 214 12L222 56C219.526 61.5227 215.523 66 210 66L27.9999 67.9999C22.4772 67.9999 19.6962 63.5229 17.9999 58L0 9.99988C0 4.47705 4.47717 0 10 0Z",fill:"#6C72B0",fillOpacity:"1.000000",fillRule:"nonzero"})]}),(0,a.jsx)("span",{className:"inline-flex w-[77px] h-[77px] bg-[#98A1EA] rounded-full items-center justify-center",children:(0,a.jsx)(on(),{width:48,height:48,src:n,alt:""})}),(0,a.jsxs)("div",{className:"flex-1 ml-2.5 font-poppins text-white",children:[(0,a.jsx)("p",{className:"font-semibold text-x-sm mb-2",children:r}),(0,a.jsx)("p",{className:"text-x-base text-white/50",children:"(".concat(o[t-1],"/").concat(1,")")})]}),(0,a.jsx)(un,{onClaim:function(){return null===i||void 0===i?void 0:i(t)},isLoading:s,finish:o[t-1]>=1})]})}function cn(){var e=ve(),t=e.account,n=e.accountWallet,o=e.network,l=e.eggStatus,c=e.palio_incubator_contract_address,u=e.refreshIncubation,d=(0,y.useState)(i.food),p=d[0],f=d[1],x=(0,w.Z)((0,m.Z)(b().mark((function e(){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!o){e.next=8;break}return e.t0=s.Z,e.next=4,Promise.all([P(o,c,t)]);case 4:return e.t1=e.sent,n=(0,e.t0)(e.t1,1),r=n[0],e.abrupt("return",{claimedCounts:r});case 8:case"end":return e.stop()}}),e)}))),{refreshOnWindowFocus:!1,refreshDeps:[o,t]}),g=x.data,C=x.refresh,_=(0,j.Z)();(0,y.useEffect)((function(){return"visible"===_&&window.addEventListener("focus",C),function(){window.removeEventListener("focus",C)}}),[C,_]);var N,k=(0,y.useRef)(),F=Se({scene:Le.claim_utility,network:o,contractAddress:c||"",funcSignature:"claimUtility",tradeId:"",notiRef:k,specificContractABI:I.l0}),L=F.estimateGasAndSendTx,Z=F.isLoading,E=F.isSuccess,S=function(){var e=(0,m.Z)(b().mark((function e(r){var i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(r),(0,pe.dO)("palio_claim_utility"),i=[r],!n){e.next=6;break}return e.next=6,L({wallet:n,txParams:i,txFrom:t,needConnect:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,y.useEffect)((function(){E&&(C(),setTimeout((function(){u()}),4e3),setTimeout((function(){u()}),8e3))}),[E,C,u]),[r.Claimed].includes(l)?(0,a.jsx)("ul",{className:"w-[250px] absolute right-8 top-[100px]",children:sn.map((function(e){return(0,a.jsx)(ln,(0,v.Z)((0,h.Z)({claimedCounts:null!==(N=null===g||void 0===g?void 0:g.claimedCounts)&&void 0!==N?N:Array(1).fill(0)},e),{onClaim:S,isLoading:Z&&e.type===p}),e.type)}))}):null}var un=function(e){var t=e.finish,n=e.isLoading,r=e.onClaim,i=(0,y.useRef)(null),o=(0,rn.Z)(i),c=(0,s.Z)((0,l.Z)(!1),2),u=c[0],p=c[1];return(0,a.jsxs)("button",{ref:i,disabled:u||n||t,onClick:(0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.setTrue(),Promise.resolve(r()).finally((function(){return p.setFalse()}));case 2:case"end":return e.stop()}}),e)}))),className:d()("absolute bottom-0 right-0 inline-block w-[72px] h-12 text-[#010101] font-[AaHuanLeBao] text-base",u||n||t?"":"active:scale-95"),children:[t?(0,a.jsxs)("svg",{className:"absolute top-2 left-5",width:"35.000000",height:"23.000000",viewBox:"0 0 35 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("desc",{children:"Created with Pixso."}),(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"\u77e2\u91cf 9",d:"M0 18.5L10.2683 23L35 5L27.5 0L10.2683 18.5L1.5 12.5L0 18.5Z",fill:"#5CF1DD",fillOpacity:"1.000000",fillRule:"evenodd"})]}):u||n?(0,a.jsx)(f.gb,{size:18,variant:"white",className:"mt-1",weight:3}):(0,a.jsx)("span",{children:"Claim"}),(0,a.jsxs)("svg",{className:"absolute top-0 left-0 -z-[1]",width:"72.008789",height:"48.489868",viewBox:"0 0 72.0088 48.4899",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{id:"\u5706\u89d2\u77e9\u5f62 2",d:"M11.1362 10.0917L67.4783 3.09839C70.1035 2.71655 72.1465 4.31006 72.0015 6.70337L71.063 39.2974C70.8757 42.3884 68.2236 45.0024 65.1934 45.0742L5.76855 47.9988C3.43896 48.0541 2.07446 45.8958 2.67725 43.224L6.50366 14.4888C6.98682 12.3485 9.0459 10.3956 11.1362 10.0917Z",fill:"#0F1439",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,a.jsx)("g",{filter:"url(#filter_11_465_dd)",children:(0,a.jsx)("path",{id:"\u5706\u89d2\u77e9\u5f62 2 \u62f7\u8d1d",d:"M8.60107 7.04993L64.9434 0.0563965C67.5686 -0.325195 69.6113 1.26855 69.4663 3.6615L68.9973 19.9581L68.5283 36.2554C68.3408 39.3464 65.689 41.9609 62.6582 42.033L3.2334 44.957C0.904297 45.0125 -0.460449 42.8542 0.142334 40.1821L3.96875 11.4473C4.45166 9.30688 6.51074 7.35388 8.60107 7.04993Z",fill:t?"#5D65A3":!o||u||n?"#FF9DE9":"#FFC6F2",fillOpacity:"1.000000",fillRule:"nonzero"})})]})]})};function dn(e){var t=e.claimEgg,n=e.isLoading,i=ve(),o=i.account,c=i.eggStatus,u=i.vip,d=i.mutate,p=i.setArr,x=i.setGenerateLoading,g=i.seOpenIng,w=i.setPortalShow,j=(i.refreshIncubation,(0,s.Z)((0,l.Z)(!1),2)),C=j[0],y=j[1];return r.NotSelected===c?(0,a.jsx)("div",{className:"w-full text-center mt-3",children:(0,a.jsx)("button",{onClick:(0,m.Z)(b().mark((function e(){var t,n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&!C){e.next=2;break}return e.abrupt("return");case 2:return y.setTrue(),e.next=5,J(o);case 5:if(t=e.sent,n=t.error,r=(0,nt.Z)(t,["error"]),!n||!r.ID){e.next=10;break}return e.abrupt("return",y.setFalse());case 10:g(!0),p((function(e){return[e[0],u?"/images/palio/egg-mp4/Action_GoldenEgg_Hatch.mp4":"/images/palio/egg-mp4/Action_Egg_Hatch.mp4"]})),d((function(e){return(0,v.Z)((0,h.Z)({},e||{}),{palioEggInfo:(0,v.Z)((0,h.Z)({},null===e||void 0===e?void 0:e.palioEggInfo),{palio_nft:{active:r}})})})),x(!0),setTimeout((function(){g(!1),y.setFalse()}),2e3);case 15:case"end":return e.stop()}}),e)}))),className:"mx-auto w-[230px] h-[78px] bg-contain bg-center bg-no-repeat bg-[url('/images/palio/egg/machine_btn_large.png')] pt-[22px] font-[AaHuanLeBao] text-black text-x-sm flex justify-center active:scale-95",children:C?(0,a.jsx)(f.gb,{size:20,variant:"blue",weight:3}):(0,a.jsx)("span",{className:"mt-0.5",children:"Create Your Palio"})})}):[r.UnClaimed,r.NotLogin].includes(c)?(0,a.jsx)("div",{className:"w-full text-center mt-3",children:(0,a.jsx)("button",{id:"palio_claim_egg",disabled:C||n,"data-sensors-click":!0,onClick:[r.NotLogin].includes(c)?(0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w());case 1:case"end":return e.stop()}}),e)}))):(0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.setTrue(),Promise.resolve(t()).finally((function(){return y.setFalse()}));case 2:case"end":return e.stop()}}),e)}))),className:"mx-auto w-[230px] h-[78px] bg-contain bg-center bg-no-repeat bg-[url('/images/palio/egg/machine_btn_large.png')] pt-[22px] font-[AaHuanLeBao] text-black text-x-sm flex justify-center active:scale-95",children:C||n?(0,a.jsx)(f.gb,{size:20,variant:"blue",weight:3}):(0,a.jsx)("span",{className:"mt-0.5",children:"Claim your Palio egg"})})}):(0,a.jsx)(a.Fragment,{children:sn.map((function(e,t){return(0,a.jsx)(fn,(0,h.Z)({extraClass:t?"":"-scale-x-[1]"},e),e.text)}))})}var pn,fn=function(e){var t,n=ve(),r=n.palioEggInfo,i=n.account,o=n.vip,c=n.isFinish,u=n.setArr,p=n.mutate,f=n.refreshPoints,x=n.refreshIncubation,g=(0,s.Z)((0,l.Z)(),2),w=g[0],j=g[1],C=e.bg,y=e.icon,_=e.left,N=e.bottom,k=e.paddingLeft,F=e.paddingTop,L=e.type,Z=(null===(t=r.props)||void 0===t?void 0:t.find((function(e){return e.props_id===L})))||{},E=Z.total,S=void 0===E?0:E,B=Z.cons_total,I=S-(void 0===B?0:B),A=!I||w||c;return(0,a.jsxs)("button",{id:"palio_feed_".concat(L),"data-sensors-click":!0,style:{left:_,bottom:N,paddingLeft:k,paddingTop:F},className:"absolute inline-flex w-16 h-16 z-10 disabled:opacity-40 active:scale-95 disabled:active:scale-100",disabled:A,onClick:(0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=2;break}return e.abrupt("return");case 2:if(j.setTrue(),p((function(e){var t;return(0,v.Z)((0,h.Z)({},e||{}),{palioEggInfo:(0,v.Z)((0,h.Z)({},r),{props:(null===(t=r.props)||void 0===t?void 0:t.map((function(e){return(0,v.Z)((0,h.Z)({},e),{cons_total:e.props_id===L?e.cons_total+1:e.cons_total})})))||[]})})})),u((function(e){return[o?"/images/palio/egg-mp4/Action_GoldenEgg_".concat(L,".mp4"):"/images/palio/egg-mp4/Action_Egg_".concat(L,".mp4"),o?"/images/palio/egg-mp4/Idle_GoldenEgg_Claimed.mp4":"/images/palio/egg-mp4/Idle_Egg_Claimed.mp4"]})),e.t0=i,!e.t0){e.next=10;break}return e.next=9,W(i,L);case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=14;break}return x(),e.abrupt("return",j.setFalse());case 14:f(),setTimeout((function(){j.setFalse(),We.emit(Ve)}),3e3);case 16:case"end":return e.stop()}}),e)}))),children:[(0,a.jsx)("span",{className:d()("absolute inset-0 bg-cover z-[1]",e.extraClass),style:{backgroundImage:"url('".concat(C,"')")}}),(0,a.jsx)("img",{className:"w-10 h-10 relative z-[2]",src:y,alt:""}),(0,a.jsx)("span",{className:"absolute -bottom-5 left-3 inline-block w-10 h-5 bg-[#C4C4C4] rounded-full",children:I})]})};function xn(){var e=ve(),t=e.account,n=e.accountWallet,r=e.network,i=e.palio_incubator_contract_address,o=e.setArr,s=e.mutate,l=(0,y.useRef)(),c=Se({scene:Le.egg,network:r,contractAddress:i||"",funcSignature:"claimEgg",tradeId:"",notiRef:l,specificContractABI:I.l0}),u=c.estimateGasAndSendTx,d=c.isLoading,p=c.isSuccess,f=function(){var e=(0,m.Z)(b().mark((function e(){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,pe.dO)("palio_claimEgg"),r=[],!n){e.next=5;break}return e.next=5,u({wallet:n,txParams:r,txFrom:t,needConnect:!0});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.useEffect)((function(){p&&(o((function(e){return(0,ae.Z)(e).concat(["/images/palio/egg-mp4/Action_Claim_Egg.mp4","/images/palio/egg-mp4/Idle_Egg_Claimed.mp4"])})),s((function(e){return(0,v.Z)((0,h.Z)({},e||{}),{eggClaimed:!0})})))}),[p,s,o]),(0,a.jsxs)("div",{className:'relative w-full h-[530px] bg-[url("/images/palio/egg/machine_body.png")] bg-contain bg-center bg-no-repeat pt-[155px] font-[AaHuanLeBao] text-sm text-black',children:[(0,a.jsx)(nn,{}),(0,a.jsx)(dn,{claimEgg:f,isLoading:d})]})}function mn(){return(0,a.jsxs)("div",{className:"relative mt-10 top-5 w-[470px] h-[68px] ml-[270px]",children:[(0,a.jsx)("svg",{className:"absolute inset-0 z-[1]",width:"469.000000",height:"67.500000",viewBox:"0 0 469 67.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{id:"\u77e2\u91cf 29",d:"M27 0L0 41L6 67.5L445.5 67.5L469 13L460 0L27 0Z",fill:"#171D51",fillOpacity:"1.000000",fillRule:"evenodd"})}),(0,a.jsxs)("svg",{className:"absolute -left-3 -top-2.5 z-[2]",width:"67.000000",height:"67.000000",viewBox:"0 0 67 67",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("circle",{id:"\u692d\u5706 1092",cx:"33.500000",cy:"33.500000",r:"33.500000",fill:"#99FEFF",fillOpacity:"1.000000"}),(0,a.jsx)("path",{id:"\u5408\u5e76",d:"M38.3252 16.0149C37.3633 15.4407 36.1562 15.7454 35.582 16.707C35.0088 17.6687 35.3135 18.8755 36.2744 19.4495L41.1865 22.3813L37.9912 27.7351C37.417 28.6968 37.7217 29.9033 38.6826 30.4775C39.6445 31.0515 40.8516 30.7468 41.4258 29.7852L44.6211 24.4316L49.5332 27.3635C50.4941 27.9375 51.7012 27.6328 52.2754 26.6711C52.8496 25.7095 52.5449 24.5029 51.583 23.9287L46.6709 20.9968L49.3389 16.5271C49.9131 15.5654 49.6084 14.3586 48.6475 13.7847C47.6855 13.2107 46.4785 13.5151 45.9043 14.4768L43.2363 18.9468L38.3252 16.0149ZM9.47559 22.2393C10.0498 21.2776 11.2568 20.9729 12.2188 21.5471L17.1299 24.479L19.7979 20.009C20.3721 19.0474 21.5791 18.7429 22.541 19.3169C23.502 19.8909 23.8066 21.0977 23.2334 22.0593L20.5645 26.5291L25.4766 29.4609C26.4385 30.0352 26.7432 31.2417 26.1689 32.2034C25.5947 33.165 24.3877 33.4697 23.4268 32.8958L18.5146 29.9639L15.3193 35.3174C14.7451 36.2791 13.5381 36.5837 12.5762 36.0098C11.6152 35.4355 11.3105 34.229 11.8848 33.2673L15.0801 27.9136L10.168 24.9817C9.20703 24.4077 8.90234 23.2009 9.47559 22.2393ZM20.7158 51.0222C21.3301 50.1606 22.0498 49.3289 22.874 48.5271C23.7051 47.72 24.6191 46.9656 25.6182 46.2634C26.6445 45.5425 27.7344 44.8945 28.8877 44.3196C28.9434 44.292 28.999 44.2644 29.0547 44.2371C30.2031 43.6748 31.3926 43.1956 32.623 42.7996C33.8945 42.3901 35.1826 42.0764 36.4863 41.8589C38.0469 41.5984 39.6299 41.4753 41.2363 41.4895C41.8262 41.4949 42.4141 41.5186 43.002 41.561C45.6543 41.7529 48.2793 42.3247 50.8779 43.2761C51.9287 43.6614 52.4531 44.7905 52.0674 45.842C51.6826 46.8938 50.5537 47.4175 49.502 47.0322C47.1211 46.1602 44.7207 45.6577 42.2998 45.5244L42.2998 45.5244C41.9336 45.5044 41.5674 45.4927 41.2012 45.4895C39.8096 45.4771 38.4395 45.5852 37.0889 45.814C35.9951 45.9993 34.915 46.2637 33.8486 46.6069C32.75 46.9604 31.6914 47.3914 30.6719 47.8997C29.6982 48.385 28.7803 48.9304 27.9189 49.5359C27.0928 50.1162 26.3408 50.7361 25.6621 51.3955C25.0107 52.0291 24.4473 52.6782 23.9736 53.343C23.3242 54.2554 22.0967 54.4614 21.1846 53.8115C20.2725 53.1616 20.0664 51.9343 20.7158 51.0222Z",clipRule:"evenodd",fill:"#171D51",fillOpacity:"1.000000",fillRule:"evenodd"})]}),(0,a.jsx)("p",{className:"ml-[62px] pt-2.5 w-[390px] text-[#99FEFF] font-poppins text-base relative z-[3]",children:"Unfortunately, your interaction with Palio during the event is insufficient to create."})]})}var hn=(pn={},(0,N.Z)(pn,r.NotLogin,"Connect your wallet to Meet Your Anima\uff01"),(0,N.Z)(pn,r.UnClaimed,"Interact with Palio egg to create your Palio!"),(0,N.Z)(pn,r.Claimed,"Interact with Palio egg to create your Palio\uff01"),(0,N.Z)(pn,r.NotLoginEnded,"Please connect wallet to check for eligibility."),pn);function vn(){var e=ve().eggStatus,t=hn[e];return t?(0,a.jsx)("div",{className:'absolute left-[100px] top-[50px] inline-flex w-[197px] h-[135px] bg-[url("/images/palio/egg/tip.png")] bg-contain bg-no-repeat -rotate-[30deg]',children:(0,a.jsx)("p",{className:"h-[84px] w-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"font-[AaHuanLeBao] text-xs text-black pl-10 pr-12",children:t})})}):null}function gn(){var e,t=ve(),n=t.eggStatus,i=t.refs,o=t.generateModal,s=t.palioEggInfo,l=t.setGenerateModal,c=t.onOpenPointRank;return(0,a.jsxs)("div",{ref:null===i||void 0===i?void 0:i.pet,className:"pt-5 relative",children:[![r.NotLogin,r.NotLoginEnded,r.UnClaimed].includes(n)&&(0,a.jsx)("button",{onClick:c,className:"absolute top-20 right-11 inline-block w-[122px] h-[87px] bg-[url('/images/palio/egg/rank.png')] bg-cover active:scale-95"}),(0,a.jsx)("img",{className:"w-[544px] h-[78px] mx-auto",src:"/images/palio/egg/title.png",alt:""}),(0,a.jsx)("p",{style:{textShadow:"0px 0px 8px #010637"},className:"mt-4 w-[572px] text-center mx-auto text-base leading-5 text-shadow-md text-shadow-[#010637]",children:"Palio is eager to feel your emotions and be by your side sooner. Breed your Palio, vote for your fav Palio and finally create your Palio!"}),[r.SelectDone,r.Minted].includes(n)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($t,{}),(0,a.jsx)(f.$o,{hideClose:!0,hideButtons:!0,width:856,closeOnEsc:!1,bgColor:"transparent",overlayColor:"rgba(0,0,0,0.7)",className:"!bg-transparent",contentClass:"bg-transparent",isOpen:!!o||!!(null===(e=s.palio_nft)||void 0===e?void 0:e.alternative),onClose:function(){return l(!1)},children:(0,a.jsxs)("div",{className:"h-[calc(100vh)] bg-transparent flex justify-between items-center",children:[(0,a.jsx)(Kt,{active:!0}),(0,a.jsx)(Kt,{})]})})]}):(0,a.jsxs)(a.Fragment,{children:[[r.Claimed].includes(n)&&(0,a.jsx)(en,{}),[r.UnClaimedEnded,r.UnQualifiedEnded].includes(n)&&(0,a.jsx)(mn,{}),(0,a.jsxs)("div",{className:"pl-[262px] pr-[281px] h-[530px] mx-auto mt-2 relative",children:[(0,a.jsx)("img",{className:"absolute w-[580px] h-[100px] bottom-0 left-[215px]",src:"/images/palio/egg/bottom.png",alt:""}),(0,a.jsx)(vn,{}),(0,a.jsx)(xn,{}),![r.NotLogin,r.NotLoginEnded,r.UnClaimed].includes(n)&&(0,a.jsx)(cn,{})]})]})]})}var bn=n(85980);function wn(e,t){return jn.apply(this,arguments)}function jn(){return(jn=(0,m.Z)(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.UT)("/palio/v1/user/".concat(t,"/vote"),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e){return yn.apply(this,arguments)}function yn(){return(yn=(0,m.Z)(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.pv)("palio/v1/user/".concat(t,"/ticket")).catch((function(e){return{total_ticket:0}}));case 2:return n=e.sent,e.abrupt("return",n.total_ticket);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _n=function(e){return e.map((function(e){return e.toNumber()}))},Nn=function(){var e=(0,m.Z)(b().mark((function e(t,n,r){var i,a,o,l,c,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,A.u)(t,n,I.k0),e.t0=s.Z,e.next=4,Promise.all([i.getVotedAmt(r),i.userVotedAmt(r),i.getVotes(),i.getEliminatedCharacters()]);case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1,4),o=a[0],l=a[1],c=a[2],u=a[3],e.abrupt("return",{totalVotedAmt:B.O$.from(l).toNumber(),votedAmt:_n(o),characterVotes:_n(c),eliminatedCharacters:_n(u)});case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),kn=function(){var e=(0,m.Z)(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,A.u)(t,n,I.k0),e.t0=s.Z,e.next=4,Promise.all([r.getVotes(),r.getEliminatedCharacters()]);case 4:return e.t1=e.sent,i=(0,e.t0)(e.t1,2),a=i[0],o=i[1],e.abrupt("return",{characterVotes:_n(a),eliminatedCharacters:_n(o)});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fn=new(Te()),Ln="refreshTicket";var Zn,En=function(e){var t=e.color,n=void 0===t?"#FF9DE9":t,r=e.className;return(0,a.jsxs)("svg",{width:"80.795898",height:"84.566528",viewBox:"0 0 80.7959 84.5665",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"filter_11_495_dd",x:"0.000000",y:"0.000000",width:"80.795898",height:"84.566528",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dx:"1.87789",dy:"3.53179"}),(0,a.jsx)("feGaussianBlur",{stdDeviation:"0"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.090196 0 0 0 0 0.1098 0 0 0 0 0.26275 0 0 0 0.84 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"})]})}),(0,a.jsx)("g",{filter:"url(#filter_11_495_dd)",children:(0,a.jsx)("path",{id:"\u5706\u89d2\u77e9\u5f62 2 \u62f7\u8d1d",d:"M15.6313 8.19128L71.5425 0.0914307C75.8169 -0.527466 79.1423 2.05725 78.9062 5.93909L75.7507 70.1625C75.4458 75.1761 71.1282 79.4169 66.1943 79.5336L5.2644 81.0331C1.47217 81.1227 -0.749756 77.6217 0.231934 73.2877L8.08936 15.3241C8.87549 11.8522 12.2283 8.6842 15.6313 8.19128Z",fill:n,fillOpacity:"1.000000",fillRule:"nonzero"})})]})},Sn=function(e){var t=e.color,n=void 0===t?"#5CF1DD":t,r=e.className;return(0,a.jsxs)("svg",{width:"44.000000",height:"29.000000",viewBox:"0 0 44 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[(0,a.jsx)("defs",{}),(0,a.jsx)("path",{id:"\u77e2\u91cf 9",d:"M0 23.326L12.9087 29L44 6.30432L34.5715 0L12.9087 23.326L1.88574 15.7609L0 23.326Z",fill:n,fillOpacity:"1.000000",fillRule:"evenodd"})]})},Bn=function(e){var t=e.color,n=void 0===t?"#FF9DE9":t,r=e.className;return(0,a.jsxs)("svg",{width:"116.351562",height:"52.489868",viewBox:"0 0 116.352 52.4899",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"filter_51_22_dd",x:"0.000000",y:"0.000000",width:"116.351562",height:"52.489868",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,a.jsx)("feOffset",{dx:"1.87789",dy:"3.53179"}),(0,a.jsx)("feGaussianBlur",{stdDeviation:"0"}),(0,a.jsx)("feComposite",{in2:"hardAlpha",operator:"out",k2:"-1",k3:"1"}),(0,a.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.090196 0 0 0 0 0.1098 0 0 0 0 0.26275 0 0 0 0.84 0"}),(0,a.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect_dropShadow_1"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect_dropShadow_1",result:"shape"})]})}),(0,a.jsx)("g",{filter:"url(#filter_51_22_dd)",children:(0,a.jsx)("path",{id:"\u5706\u89d2\u77e9\u5f62 2 \u62f7\u8d1d",d:"M8.60132 11.05L109.943 0.0563965C112.569 -0.325195 114.611 1.26831 114.466 3.66162L113.528 36.2556C113.341 39.3462 110.689 41.9609 107.658 42.0327L3.2334 48.957C0.904297 49.0125 -0.460449 46.8542 0.142334 44.1821L3.96875 15.4473C4.45166 13.3069 6.51099 11.354 8.60132 11.05Z",fill:n,fillOpacity:"1.000000",fillRule:"nonzero"})})]})},In={go:{hover:"#FFC6F2",bg:"#FF9DE9",text:"GO",disabled:"#5D65A3"},get:{hover:"#7BD6F9",bg:"#7BD6F9",text:"Get",disabled:"#5D65A3"},vote:{hover:"#FFC6F2",bg:"#FF9DE9",text:"Vote",disabled:"#5D65A3"},finish:{hover:"#5D65A3",bg:"#5D65A3",text:"",disabled:"#5D65A3"}},An=function(e){var t=e.type,n=e.className,r=e.disabled,i=e.onSubmit,o=e.loading,c=(0,s.Z)((0,l.Z)(),2),u=c[0],d=c[1],p=(0,y.useMemo)((function(){return"vote"===t}),[t]),x=In[t],m=p?Bn:En;return(0,a.jsxs)("div",{onMouseEnter:function(){!r&&!o&&d.setTrue()},onMouseLeave:function(){!r&&!o&&d.setFalse()},onClick:function(){r||o||"finish"===t||(null===i||void 0===i||i(),d.setFalse())},className:"w-[83px] h-[83px] flex items-center justify-center ".concat(r?"":"cursor-pointer"," ")+n,children:[(0,a.jsx)(m,{className:"w-full h-full",color:r?x.disabled:o||u?x.hover:x.bg}),"finish"===t?(0,a.jsx)(Sn,{className:"absolute"}):o?(0,a.jsx)(f.gb,{variant:"white",size:"vote"===t?20:24,className:"!absolute ".concat("vote"===t?"-mt-[3px]":"")}):x.text&&(0,a.jsx)("span",{className:"absolute ".concat(p?"text-x-lg":"text-x-2xl"," text-[#010101] font-[AaHuanLeBao] "),children:x.text})]})},Mn=function(e){var t=e.color,n=void 0===t?"#ffffff":t,r=e.className;return(0,a.jsx)("svg",{width:"45.000000",height:"42.000000",viewBox:"0 0 45 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:(0,a.jsx)("path",{id:"\u5f62\u72b6 34",d:"M29.0508 41.4321C29.0508 41.4321 5.98633 42.2856 0 26.6753C0 26.6753 2.38281 29.2856 5.69727 28.9458C5.69727 28.9458 -6.88086 18.376 7.97461 1.13477C7.97461 1.13477 3.97852 7.1792 7.97461 8.51318C7.97461 8.51318 -4.17188 36.6631 29.0508 41.4321Z",fill:n,fillOpacity:"1.000000",fillRule:"nonzero"})})},Pn={normal:{colors:["#FF9DE9","#FF9DE9"],border:"#ffffff",wing:[""]},pink:{colors:["#FF5FE8FF","#FFCEF8FF"],border:"#FFE9FC",wing:["left"]},green:{colors:["#00BCFAFF","#4CCCCDFF"],border:"#99FEFF",wing:["right"]},gold:{colors:["#F7BF19FF","#F9E5B3FF"],border:"#ffffff",wing:["left","right"]},silver:{colors:["#AFB9C1FF","#E2E7EFFF"],border:"#ffffff",wing:["left","right"]},copper:{colors:["#DEA063FF","#EFDBC3FF"],border:"#ffffff",wing:["left","right"]}},On=function(e){var t=e.theme,n=void 0===t?"normal":t,r=e.className,i=e.number,o=e.minSize,s=void 0===o?30:o,l=e.borderWidth,c=void 0===l?4:l,u=e.textClass,p=e.children,f=((0,y.useMemo)((function(){return s+c}),[c,s]),(0,y.useMemo)((function(){return[Pn[n].border,Pn[n].colors]}),[n])),x=f[0],m=f[1];return(0,a.jsxs)("div",{className:d()("rounded-full","flex items-center justify-center",r),style:{borderColor:x,background:"linear-gradient(to bottom, ".concat(m[0],", ").concat(m[1],")"),height:s+"px",minWidth:s+"px",borderWidth:c+"px"},children:[p||(0,a.jsx)("span",{className:"px-1 text-center text-x-base text-[#343434] font-poppins font-xextrabold ".concat(u),children:i}),Pn[n].wing.includes("left")&&(0,a.jsx)("div",{className:d()("absolute"),style:{bottom:-c+"px",width:45*s/42,height:s,left:-(c+1*c)+"px"},children:(0,a.jsx)(Mn,{color:Pn[n].border,className:d()("w-full h-full")})}),Pn[n].wing.includes("right")&&(0,a.jsx)("div",{className:d()("absolute"),style:{bottom:-c+"px",width:45*s/42,height:s,transform:"scaleX(-1)",right:-(c+1*c)+"px"},children:(0,a.jsx)(Mn,{color:Pn[n].border,className:d()("w-full h-full")})})]})},Tn=function(e){var t=e.className,n=e.textClass,r=e.time,i=e.onEnd,o=e.showTimeIcon,s=void 0===o||o,l=(0,pe.zz)(),c=l.seconds,u=l.start,p=l.stop,f=(0,y.useState)(!1),x=f[0],m=f[1];return(0,y.useEffect)((function(){r&&u(r)}),[u,p,r]),(0,y.useEffect)((function(){m(!0)}),[]),(0,y.useEffect)((function(){x&&0===c&&(null===i||void 0===i||i())}),[x,i,c]),0===c?null:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:d()("bg-[#2B3161] rounded py-[7px] px-3 inline-flex flex-row items-center",t),children:[s&&(0,a.jsx)("div",{className:"w-4 h-4 relative mr-2",children:(0,a.jsx)(Ot.Z,{className:"w-full h-full",width:16,height:16,src:Et,objectFit:"contain",layout:"fill"})}),(0,a.jsx)("div",{className:d()("text-white/50 min-w-[65px] text-x-sm line-clamp-1",n),children:(0,Je.A8)(c)})]})})},Rn=(Zn={},(0,N.Z)(Zn,Ie.daily,yt),(0,N.Z)(Zn,Ie.once,yt),(0,N.Z)(Zn,Ie.weekly,Nt),(0,N.Z)(Zn,Ie.series,_t),Zn),Dn=function(e){e.update;var t,n,i=e.className,o=(0,nt.Z)(e,["update","className"]),c=ve(),u=c.account,d=c.palioPointInfo,p=c.current_day,x=c.current_chapter,h=c.scrollToView,v=c.onOpenPointFriend,g=(c.onOpenPointDash,c.onOpenPointRank,c.eggStatus),w=o.name,j=o.ID,C=o.idx,_=o.user_task,N=o.task_list,k=o.task_kind,F=o.task_type,L=o.day_end,Z=o.chapter_end,E=o.cons_total,S=(0,pe.lm)().noti,B=(0,y.useMemo)((function(){return d.invited_num}),[d.invited_num]),I=(0,y.useMemo)((function(){return C>N.length-1?[null===N||void 0===N?void 0:N[N.length-1],N.length-1]:[null===N||void 0===N?void 0:N[C],C]}),[C,N]),A=I[0],M=I[1],P=(0,y.useMemo)((function(){var e=(new Date).getTime()/1e3;return[[Ie.daily,Ie.weekly].includes(k),k===Ie.daily?L?L-e:0:Z?Z-e:0]}),[Z,L,k]),O=P[0],T=P[1],R=(0,y.useMemo)((function(){if(F===Be.follow||F===Be.share)return"";var e,t=null===A||void 0===A?void 0:A.value,n=_.find((function(e){return 1===e.status}));n&&(t=null===N||void 0===N||null===(e=N[n.sub_id-1])||void 0===e?void 0:e.value);var r,i=0;n?i=null===N||void 0===N||null===(r=N[n.sub_id-1])||void 0===r?void 0:r.value:_.find((function(e){return e.sub_id===M+1}))&&(i=null===A||void 0===A?void 0:A.value);return k===Ie.daily?(t=null===A||void 0===A?void 0:A.value,i=_.find((function(e){return e.sub_id===p}))?A.value:0):k===Ie.weekly&&(t=null===A||void 0===A?void 0:A.value,i=_.find((function(e){return e.sub_id===x}))?A.value:0),[Be.cumulative].includes(F)&&E?i=E:[Be.invite].includes(F)&&(i=B||0),"(".concat(i,"/").concat(t,")")}),[E,A.value,x,p,B,M,k,N,F,_]),D=(0,y.useMemo)((function(){if(F===Be.follow){var e,t,n,r=_.find((function(e){return 1===e.status})),i=r?null===N||void 0===N||null===(e=N[(null===r||void 0===r?void 0:r.sub_id)-1])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.name:(null===A||void 0===A||null===(n=A.data)||void 0===n?void 0:n.name)||"";return"".concat(null===w||void 0===w?void 0:w.replace("${name}",i)," ").concat(R)}return"".concat(w," ").concat(R)}),[null===A||void 0===A||null===(t=A.data)||void 0===t?void 0:t.name,w,R,N,F,_]),z=(0,y.useMemo)((function(){var e=_.find((function(e){return 1===e.status}));return k===Ie.daily||k===Ie.weekly?A.ticket:(null===e||void 0===e?void 0:e.tickets_num)||(null===A||void 0===A?void 0:A.ticket)}),[A.ticket,k,_]),U=(0,y.useState)("go"),G=U[0],W=U[1],V=(0,s.Z)((0,l.Z)(),2),H=V[0],$=V[1],q=(0,y.useCallback)((0,m.Z)(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:if(F){e.next=4;break}return e.abrupt("return");case 4:if((0,pe.dO)("palio_quest"),"go"!==G){e.next=16;break}if(g!==r.UnClaimed){e.next=10;break}return h("pet"),e.abrupt("return");case 10:return[Be.retweet,Be.follow,Be.like].includes(F)&&(W("get"),ze(u,j).catch((function(){S("error","report fail")})).finally((function(){We.emit(Ve)}))),[Be.chat,Be.share].includes(F)?h("chat"):[Be.cumulative,Be.pet].includes(F)?h("pet"):Be.invite===F&&v(),(null===A||void 0===A||null===(t=A.data)||void 0===t?void 0:t.url)&&window.open(null===A||void 0===A||null===(n=A.data)||void 0===n?void 0:n.url,"_blank"),e.abrupt("return");case 16:"get"===G&&($.setTrue(),De(u,j).then((function(){})).catch((function(e){S("error","get fail")})).finally((function(){We.emit(Ve),Fn.emit(Ln),$.setFalse()})));case 17:case"end":return e.stop()}}),e)}))),[j,u,G,null===A||void 0===A||null===(n=A.data)||void 0===n?void 0:n.url,g,S,v,h,$,F]),K=(0,bn.Z)((function(){We.emit(Ve)}),{wait:1e3}).run;return(0,y.useEffect)((function(){var e,t="go";if(_.find((function(e){return 1===e.status}))?t="get":2===(null===(e=_.find((function(e){return e.sub_id===M+1})))||void 0===e?void 0:e.status)&&(t="finish"),k===Ie.daily){var n=_.find((function(e){return e.sub_id===p}));t=n?2===(null===n||void 0===n?void 0:n.status)?"finish":"get":"go"}else if(k===Ie.weekly){var r=_.find((function(e){return e.sub_id===x}));t=r?2===(null===r||void 0===r?void 0:r.status)?"finish":"get":"go"}W(t)}),[x,p,M,k,_]),(0,a.jsx)("div",{className:"relative w-full "+i,children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-full h-0",style:{paddingBottom:"calc(102/379*100%)"},children:(0,a.jsx)(Ot.Z,{layout:"fill",className:"w-full h-full",src:Lt,objectFit:"contain"})}),k!==Ie.once&&(0,a.jsx)("div",{className:"absolute w-3 h-3 rounded-full bg-[rgb(31,32,83)] top-[66%] left-[70%]"}),k!==Ie.once&&(0,a.jsx)(f.zG,{placeholderType:"auto",rectClassName:"!absolute top-[calc(66%_+_5px)] right-[calc(30%_-_6px)] w-[90px] h-[67px]",src:Rn[k],objectFit:"contain"}),(0,a.jsx)(f.zG,{placeholderType:"auto",rectClassName:"!absolute top-[16.7%] left-[5.3%] w-[52px] h-[67px]",src:Zt,objectFit:"contain"}),(0,a.jsx)(On,{number:z,className:"absolute top-[10.5%] left-[1%]"}),(0,a.jsx)(An,{type:G,className:"absolute top-[8%] -right-[6%]",onSubmit:q,loading:H}),(0,a.jsxs)("div",{className:"absolute left-[29.5%] top-0 right-[20%] bottom-[11%] flex flex-col justify-center",children:[(0,a.jsx)("span",{className:"text-[#fff] text-x-sm font-poppins font-xmedium",children:D}),O&&(0,a.jsx)(Tn,{className:"mt-3 ",time:T,onEnd:K})]})]})})},zn=function(e){var t=e.id,n=ve().refs,r=function(){var e=ve().account,t=(0,w.Z)((0,m.Z)(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e?Re(e):void 0);case 1:case"end":return t.stop()}}),t)}))),{refreshDeps:[e]}),n=t.data,r=t.refresh,i=(0,c.Z)(r,{wait:1e3}).run;return(0,y.useEffect)((function(){return We.on(Ve,i),function(){We.off(Ve,i)}}),[i]),{taskList:n}}().taskList;return(0,a.jsxs)("div",{id:t,ref:null===n||void 0===n?void 0:n.quest,className:"z-[2] relative pt-[38px]",children:[(0,a.jsx)(f.zG,{placeholderType:"auto",rectClassName:"w-full h-[75px] overflow-hidden",src:kt,objectFit:"contain"}),(0,a.jsx)("div",{className:"mt-4 text-center text-[#8D91B8] text-x-sm font-poppins",children:"Complete quests and get tickets to vote!"}),(0,a.jsx)("div",{className:"mt-12 mx-[68px] pb-[96px] grid grid-cols-2 gap-[96px]",children:null===r||void 0===r?void 0:r.map((function(e,t){return(0,a.jsx)("div",{children:(0,a.jsx)(Dn,(0,v.Z)((0,h.Z)({className:"!w-[379px] mx-auto"},e),{update:function(){}}))},t)}))})]})};function Un(e){var t=e.index,n=e.end,r=e.start,i=e.name,o=ve().current_chapter;return(0,a.jsxs)("div",{className:d()("w-[190px] h-20 bg-[#EAECFF] transform -skew-x-[10deg] origin-bottom-left font-semibold",o!==t&&"opacity-75"),children:[(0,a.jsxs)("div",{className:"h-10 flex",children:[(0,a.jsx)("span",{className:"bg-[#5B65BD] w-20 inline-block relative",children:(0,a.jsxs)("span",{"data-storke":"Ch.".concat(t),className:d()("text-x-3xl",Xe()["text-outline"]),children:["Ch.",t]})}),(0,a.jsx)("span",{className:"bg-[#B8BFFF] flex-1 h-full",children:(0,a.jsx)("span",{className:d()("inline-block w-full h-full text-center leading-10 text-[#5B65BD] text-xl transform skew-x-[10deg]"),children:i})})]}),(0,a.jsx)("div",{className:d()("h-10 skew-x-[10deg]  text-sm text-center leading-10",o===t?"text-[#1c1c1c]":"text-[#1c1c1c]/30"),children:"".concat(Wn(r)," - ").concat(Wn(n)," (UTC)")})]})}var Gn=["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],Wn=function(e){var t=new Date(1e3*e),n=Gn[t.getMonth()],r=t.getDate();return"".concat(n," ").concat(r)};function Vn(){var e=ve().chapterList;return(0,a.jsx)("div",{className:"w-full flex justify-around relative -top-10",children:e.map((function(e){return(0,y.createElement)(Un,(0,v.Z)((0,h.Z)({},e),{key:e.name}))}))})}function Hn(e){var t=e.children;return(0,a.jsxs)("section",{className:d()("max-w-[1024px] mx-auto mt-[50px] font-poppins text-x-xs text-xwhite relative bg-[#2A3066] rounded-3xl overflow-hidden"),children:[(0,a.jsx)("span",{className:"absolute inline-block w-[600px] h-[600px] z-[1] rotate-45 -top-[310px] -right-[500px] bg-[#323870]"}),(0,a.jsx)("span",{className:"absolute inline-block w-[600px] h-[600px] z-[1] rotate-45 top-[110px] -left-[500px] bg-[#323870]"}),(0,a.jsx)("span",{className:"absolute inline-block w-[600px] h-[600px] z-[1] rotate-45 top-[1000px] -right-[300px] bg-[#323870]"}),(0,a.jsx)("span",{className:"absolute inline-block w-[600px] h-[600px] z-[1] rotate-45 top-[1800px] -left-[80px] bg-[#323870]"}),t]})}var $n=function(e){var t=e.className,n=e.disabled,r=(0,nt.Z)(e,["className","disabled"]);return(0,a.jsx)("button",(0,v.Z)((0,h.Z)({disabled:n,className:"group/minus border-[#FF9DE9] border-2 rounded-full w-[30px] h-[25px] flex justify-center items-center  ".concat(n?"bg-[#000] border-[#414141]":"hover:bg-[#FF9DE9]"," ").concat(t||"")},r),{children:(0,a.jsx)("span",{style:{clipPath:"polygon(0% 0%, 100% 0, calc(100% - 2px) 100%, 0 100%, 0% 0%)"},className:"w-[12px] h-[2px] bg-[#99FEFF] ".concat(n?"bg-opacity-40":"group-hover/minus:bg-[#030303]")})}))},qn=function(e){var t=e.className,n=e.disabled,r=(0,nt.Z)(e,["className","disabled"]);return(0,a.jsxs)("button",(0,v.Z)((0,h.Z)({disabled:n,className:"group/plus relative border-[#FF9DE9] border-2 rounded-full w-[30px] h-[25px] flex justify-center items-center ".concat(n?"bg-[#000] border-[#414141]":"hover:bg-[#FF9DE9]"," ").concat(t||"")},r),{children:[(0,a.jsx)("span",{className:"w-[5px] h-[2px] bg-[#99FEFF] ".concat(n?"bg-opacity-40":"group-hover/plus:bg-[#030303]")}),(0,a.jsx)("span",{className:"w-[2px] h-[12px] bg-[#99FEFF] ".concat(n?"bg-opacity-40":"group-hover/plus:bg-[#030303]")}),(0,a.jsx)("span",{style:{clipPath:"polygon(2px 0%, 100% 0, 100% 100%, 1px 100%, 2px 0%)"},className:"w-[5px] h-[2px] bg-[#99FEFF] ".concat(n?"bg-opacity-40":"group-hover/plus:bg-[#030303]")})]}))},Kn=(0,y.forwardRef)((function(e,t){var n=e.className,r=e.onChange,i=e.defaultValue,o=void 0===i?1:i,s=e.value,l=void 0===s?1:s,c=e.min,u=void 0===c?1:c,d=e.max,p=void 0===d?Number.MAX_SAFE_INTEGER:d,f=(0,nt.Z)(e,["className","onChange","defaultValue","value","min","max"]),x=(0,y.useState)("".concat(l||o)),m=x[0],v=x[1],g=(0,y.useRef)(l||o);(0,y.useEffect)((function(){v("".concat(l||o)),g.current=l||o}),[l,o]),(0,y.useImperativeHandle)(t,(function(){return{resetToDefault:function(){v("".concat(o)),g.current=o,r&&r(g.current)}}}),[]);var b=g.current>u,w=g.current<p;return(0,a.jsxs)("div",{className:"flex flex-row items-center "+n,children:[(0,a.jsx)($n,{disabled:!b,onMouseDown:function(e){e.preventDefault(),g.current=g.current-1,v("".concat(g.current)),r&&r(g.current)}}),(0,a.jsx)("div",{className:"flex-1 h-10 h-full ".concat(b||w?"":"bg-[#141839]"," border-[#FF9DE9] border-2 rounded-full text-white/30"),children:(0,a.jsx)("input",(0,h.Z)({value:"".concat(m),onChange:function(e){var t=e.target.value.replace(/[^0-9]/g,""),n=Number(t);Number.isNaN(n)||(Math.floor(n)>=u&&Math.floor(n)<=p&&(g.current=Math.floor(n),r&&r(g.current)),Math.floor(n)>p&&(g.current!==p&&(g.current=p,r&&r(g.current)),requestAnimationFrame((function(){requestAnimationFrame((function(){v("".concat(p))}))}))),Math.floor(n)<u&&g.current!==u&&(g.current=u,r&&r(g.current))),v(t)},onBlur:function(){v("".concat(g.current))},className:"outline-none w-full h-full font-extrabold align-middle text-center  bg-transparent"},f))}),(0,a.jsx)(qn,{disabled:!w,onMouseDown:function(e){e.preventDefault(),g.current=g.current+1,v("".concat(g.current)),r&&r(g.current)}})]})}));Kn.displayName="AmountInput";var Xn=Kn,Yn=null,Qn=function(e){var t=e.text,n=e.duration,r=void 0===n?600:n,i=e.onEnd,o=(0,s.Z)((0,l.Z)(),2),c=o[0],u=o[1],p=(0,y.useState)(t),f=p[0],x=p[1];return(0,y.useEffect)((function(){x(t)}),[t]),(0,y.useEffect)((function(){f&&(Yn&&clearTimeout(Yn),u.setTrue(),Yn=setTimeout((function(){u.setFalse(),x(""),null===i||void 0===i||i()}),r))}),[r,i,u,f]),(0,y.useEffect)((function(){return function(){Yn&&clearTimeout(Yn)}}),[]),c?(0,a.jsx)("span",{className:d()("absolute bottom-0 text-xwhite",Yt().animation_plusone),children:f}):null},Jn=function(e){var t=e.place,n=void 0===t?"center":t,r=e.select,i=void 0===r||r,o=e.selectColor,s=void 0===o?"#B8BFFF":o,l=e.normalColor,c=void 0===l?"#5D65A3":l,u=e.notchColor,p=void 0===u?"rgb(31,32,83)":u,f=e.className,x=e.children,m=i?s:c;return(0,a.jsxs)("div",{className:d()("relative py-1.5 px-3 -skew-x-6",f),style:{backgroundColor:m},children:[i&&(0,a.jsx)("div",{className:d()("absolute top-0 bottom-0 right-0 left-0 -translate-y-1 -translate-x-1 border-[2px]"),style:{borderColor:m}}),(0,a.jsx)("div",{className:d()("absolute top-0 bottom-0 right-0 left-0 flex flex-col justify-center items-center","bg-[".concat(m,"]")),children:x}),["left","center"].includes(n)&&(0,a.jsx)("div",{className:d()("absolute left-3 top-3 w-3 h-3 rounded-full"),style:{backgroundColor:p}}),["right","center"].includes(n)&&(0,a.jsx)("div",{className:d()("absolute right-3 top-3 w-3 h-3 rounded-full"),style:{backgroundColor:p}})]})},er=function(){var e=ve().chapterList,t=(0,y.useMemo)((function(){var t=null===e||void 0===e?void 0:e[0],n=null===e||void 0===e?void 0:e[e.length-1],r=(null===t||void 0===t?void 0:t.start)?1e3*(null===t||void 0===t?void 0:t.start):0,i=(null===n||void 0===n?void 0:n.end)?1e3*(null===n||void 0===n?void 0:n.end):0,a=0;return(new Date).getTime()>i&&(a=1),[[{type:"start",title:"Event Starts",time:r},{type:"end",title:"Result Ends",time:i}],a]}),[e]),n=t[0],r=t[1];return(0,a.jsx)("div",{className:"relative flex flex-row items-center justify-center",children:(0,a.jsxs)("div",{className:"relative flex flex-row",children:[n.map((function(e,t){e.type;var i=e.title,o=e.time,s=0===t?"right":t===n.length-1?"left":"center",l=t===r;return(0,a.jsxs)(Jn,{className:"".concat(t===n.length-1?"mr-0":"mr-5"," w-[200px] h-[50px] ").concat(l?"text-[#1c1c1c]":"text-xwhite/40"),place:s,select:l,children:[(0,a.jsx)("span",{className:"text-base font-[AaHuanLeBao] ".concat(l?"text-[#1c1c1c]":"text-white/40"),children:i}),(0,a.jsx)("span",{className:"text-xs font-poppins ".concat(l?"text-[#1c1c1cb3]":"text-white/40"),children:o?(0,Je.vs)(o):""})]},t)})),n.slice(0,n.length-1).map((function(e,t){var n=220*t+182;return(0,a.jsx)("div",{className:"absolute w-14 top-0 bottom-0 left-[".concat(n,"px]"),style:{left:n},children:(0,a.jsx)(Ot.Z,{className:"w-full h-full",src:Bt,objectFit:"contain",layout:"fill"},t)},t)}))]})})},tr=[{id:0,name:"cat",desc:"Not just your average feline. Vote for me, vote for purr-fect charm and grace.",voted:0,total_voted:0},{id:1,name:"dog",desc:"I have a heart as golden as fur. My friendship are genuine & I'm passionate to all!",voted:0,total_voted:0},{id:2,name:"duck",desc:"I'm forgetful because I'm chill. Find me by snacks or relaxing by the water. Quack.",voted:0,total_voted:0},{id:3,name:"dragon",desc:"An ancient creature of the Crimson Peaks, vast in both wing and spirit\uff01",voted:0,total_voted:0},{id:4,name:"unicorn",desc:"I feel a whole rainbow of emotions! Come find me in meadows of Everdream Valley.",voted:0,total_voted:0}],nr=[{colors:["#AC8EDBFF","#8BFFF8FF"]},{colors:["#5F54EEFF","#FFF17CFF"]},{colors:["#36AB67FF","#FFC78BFF"]},{colors:["#F06A6AFF","#8BFFF8FF"]},{colors:["#FF8BA3FF","#FFCC79FF"]}],rr=function(e){e.name;var t=e.desc,n=e.id,r=e.index,i=e.className,o=e.confirm,s=e.voted,l=e.total_voted,c=e.eliminated,u=e.rank,d=e.image,p=e.remain_ticket,f=ve(),x=f.isFinish,h=f.chapterList,v=f.current_chapter,g=(0,y.useState)(1),w=g[0],j=g[1],C=(0,y.useState)(""),_=C[0],N=C[1],k=(0,y.useState)(!1),F=k[0],L=k[1],Z=(0,y.useMemo)((function(){return 0===r?"gold":1===r?"silver":2===r?"copper":"pink"}),[r]),E=(0,y.useMemo)((function(){return 0===h.findIndex((function(e){return e.index===v}))?Pt:d}),[h,v,d]),S=(0,y.useCallback)((0,m.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,o(n,w);case 3:N(w.toString()),j(1),L(!1);case 6:case"end":return e.stop()}}),e)}))),[w,o,n]);return(0,a.jsxs)("div",{className:"relative flex flex-col items-center  "+i,children:[(0,a.jsx)("div",{className:"bg-[#FFA0F1] w-[54px] pt-1.5 pb-1 rounded-t-lg flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-[rgb(31,32,83)]"})}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsxs)("div",{className:"bg-[#FFA0F1] rounded-t-xl py-3 text-black text-x-base font-[AaHuanLeBao] text-center",children:["Total: ",l]}),(0,a.jsx)("div",{className:"bg-[#2A2B2C] py-4 bg-cover bg-no-repeat bg-center",children:(0,a.jsxs)("div",{className:"relative h-[194px] flex items-center justify-center",children:[(0,a.jsx)("div",{className:"w-[160px] h-[160px] rounded-full bg-gradient-to-b",style:{background:"linear-gradient(to bottom, ".concat(nr[r].colors[0],", ").concat(nr[r].colors[1],")")}}),E&&(0,a.jsx)(Ot.Z,{src:E,className:"w-full h-full absolute ",layout:"fill",objectFit:"contain"}),!x&&c&&(0,a.jsx)("div",{className:"absolute rotate-[20deg] bg-black/40 px-3 py-0.5 rounded-lg text-[#fff] text-lg",children:"Locked"}),(0,a.jsx)(Qn,{text:_,onEnd:function(){return N("")}})]})}),(0,a.jsx)(bt,{title:t,className:"bg-[#7BD6F9] rounded-b-xl !p-4 overflow-hidden -mt-[8px]",titleClass:"text-xs text-black font-poppins font-xmedium text-center",cornerDirection:"top-left",cornerAxis:"y",corner:8}),(0,a.jsx)(On,{theme:"green",minSize:68,borderWidth:5,className:"absolute top-[60%] -right-[15%]",children:(0,a.jsxs)("div",{className:"relative z-2 h-full w-full flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:"text-x-xs !text-[10px] text-black font-poppins",children:"Voted"}),(0,a.jsx)(Jt,{number:s.toString(),textClass:"text-x-base !text-black font-[AaHuanLeBao]",charWidth:12})]})}),u&&(0,a.jsx)(On,{theme:Z,minSize:42,number:u,className:"absolute top-[5%] -left-[10%]",textClass:"!text-black !text-x-xl !font-light !font-[AaHuanLeBao]"})]}),x||c?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Xn,{value:w,max:Math.max(p,1),onChange:function(e){j(e)},className:"w-[160px] mt-5"}),(0,a.jsx)(An,{type:"vote",className:"!w-[114px] !h-[48px] mt-4",onSubmit:S,disabled:p<=0,loading:F})]})]})},ir=function(){var e=ve(),t=e.chapterList,n=e.current_chapter,r=e.isFinish,i=(0,y.useState)(0),o=i[0],s=i[1],l=(0,y.useMemo)((function(){var e=t.findIndex((function(e){return e.index===n}));return"".concat(4-e+1,"th")}),[t,n]),c=(0,y.useMemo)((function(){var e;return(null===t||void 0===t?void 0:t.length)&&n===(null===t||void 0===t||null===(e=t[(null===t||void 0===t?void 0:t.length)-1])||void 0===e?void 0:e.index)}),[t,n]);return(0,y.useEffect)((function(){var e=null===t||void 0===t?void 0:t.find((function(e){return e.index===n})),i=(new Date).getTime()/1e3;!r&&e&&(null===e||void 0===e?void 0:e.end)&&s(e.end-i)}),[t,n,r]),(0,a.jsxs)("div",{className:d()("mt-5 text-x-sm rounded h-[30px] px-5 pl-[27px] flex flex-row items-center w-fit mx-auto",r?"bg-[#EDB354] text-white":c?"bg-[#FF82ED66] text-[#ffffff]":"bg-[#171C4399] text-[#8D91B8]"),children:[(0,a.jsx)("div",{className:d()("relative mr-3",r||c?"w-[24px] h-[20px]":"w-4 h-4"),children:(0,a.jsx)(Ot.Z,{src:r||c?Mt:Et,layout:"fill",className:"w-full h-full",objectFit:"contain"})}),r?(0,a.jsx)("span",{children:"The TOP1 character will be the mascot in palio world!"}):c?(0,a.jsx)("span",{children:"The champion will be crowned soon:"}):(0,a.jsxs)("span",{children:["The ",(0,a.jsx)("span",{className:"text-[#5CF1DD] ",children:l})," place will be locked soon:"]}),r?null:(0,a.jsx)(Tn,{className:"!p-0 !bg-transparent !pl-[3px]",textClass:c?"!text-[#ffffff]":"!text-[#5CF1DD]",time:o,showTimeIcon:!1,onEnd:function(){}})]})},ar=function(e){var t=e.id,n=ve(),r=n.refs,i=n.palio_stars,o=n.account,l=n.accountWallet,u=n.network,d=n.palio_voter_contract_address,p=n.current_chapter,x=function(){var e=ve(),t=e.account,n=e.network,r=e.palio_voter_contract_address,i=(0,w.Z)((0,m.Z)(b().mark((function e(){var i,a,o,l,c,u,d,p,f,x,m;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=23;break}if(!t){e.next=17;break}return e.t0=s.Z,e.next=5,Promise.all([Cn(t),Nn(n,r,t)]);case 5:return e.t1=e.sent,i=(0,e.t0)(e.t1,2),a=i[0],o=i[1],l=o.totalVotedAmt,c=o.votedAmt,u=o.characterVotes,d=o.eliminatedCharacters,p=a-l>0?a-l:0,e.abrupt("return",{total_ticket:a,totalVotedAmt:l,votedAmt:c,characterVotes:u,eliminatedCharacters:d,user_ticket:p});case 17:return e.next=19,kn(n,r);case 19:return f=e.sent,x=f.characterVotes,m=f.eliminatedCharacters,e.abrupt("return",{total_ticket:0,totalVotedAmt:0,votedAmt:Array(5).fill(0),characterVotes:x,eliminatedCharacters:m,user_ticket:0});case 23:case"end":return e.stop()}}),e)}))),{refreshOnWindowFocus:!1,refreshDeps:[n,t]}),a=i.data,o=i.refresh,l=(0,c.Z)(o,{wait:1e3}).run;return(0,y.useEffect)((function(){return Fn.on(Ln,l),function(){Fn.off(Ln,l)}}),[l]),(0,v.Z)((0,h.Z)({},a),{refresh:o})}(),g=x.user_ticket,j=void 0===g?0:g,C=(x.total_ticket,x.totalVotedAmt,x.votedAmt),_=x.characterVotes,N=x.eliminatedCharacters,k=x.refresh,F=(0,y.useMemo)((function(){var e=tr.map((function(e,t){var n,r=(null===N||void 0===N?void 0:N.includes(e.id))?4-N.findIndex((function(t){return t===e.id}))+1:void 0,a=(null===(n=null===i||void 0===i?void 0:i.find((function(t){return t.name===e.name})))||void 0===n?void 0:n.public_url)||"";return(0,v.Z)((0,h.Z)({},e),{voted:(null===C||void 0===C?void 0:C[e.id])||0,total_voted:(null===_||void 0===_?void 0:_[e.id])||0,eliminated:null===N||void 0===N?void 0:N.includes(e.id),rank:void 0===r&&4===(null===N||void 0===N?void 0:N.length)?1:r,image:a})}));return e.sort((function(e,t){var n=e.rank||0,r=t.rank||0;return n>r?1:n<r?-1:0}))}),[_,N,i,C]),L=(0,y.useRef)(),Z=(0,pe.lm)().noti,E=Se({scene:Le.vote,network:u,contractAddress:d||"",funcSignature:"vote",tradeId:"",notiRef:L,specificContractABI:I.k0}),S=E.estimateGasAndSendTx,B=(E.isLoading,E.isSuccess),A=function(){var e=(0,m.Z)(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,pe.dO)("palio_vote"),e.prev=2,e.next=5,wn(null!==o&&void 0!==o?o:"",{index:t,num:n});case 5:r=e.sent,e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(2),console.error("place vote sig error",e.t0),i=e.t0.err_msg,Z("error",i||"Please try again later."),e.abrupt("return");case 14:if(a=[r.index,r.num,r.total_num,r.expire_time,r.sign],!l){e.next=20;break}return e.next=19,S({wallet:l,txParams:a,txFrom:o,needConnect:!0});case 19:e.sent;case 20:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,y.useEffect)((function(){B&&(Fn.emit(Ln),setTimeout((function(){Fn.emit(Ln)}),5e3))}),[B]),(0,y.useEffect)((function(){k()}),[k,p]),(0,a.jsxs)("div",{id:t,ref:null===r||void 0===r?void 0:r.vote,className:"z-[2] relative pt-[44px] pb-[44px]",children:[(0,a.jsx)(er,{}),(0,a.jsx)(f.zG,{placeholderType:"auto",rectClassName:"mt-[70px] w-full h-[75px] overflow-hidden",src:Ft,objectFit:"contain"}),(0,a.jsx)("div",{className:"mt-4 text-center text-[#8D91B8] text-x-sm font-poppins",children:"Choose your fav Palio to be the Mascot!"}),(0,a.jsxs)("div",{className:"relative mt-4 w-[302px] h-[44px] mx-auto flex-row items-center justify-center",children:[(0,a.jsx)(f.zG,{placeholderType:"auto",rectClassName:"w-full h-full",src:St,objectFit:"contain"}),(0,a.jsxs)("span",{className:"absolute top-0 bottom-0 left-[22%] right-[9%] pt-1 flex flex-row items-center justify-center text-[#ECEEFF] text-base font-xmedium font-poppins",children:["Current Tickets: ",j]})]}),(0,a.jsx)(ir,{}),(0,a.jsx)("div",{className:"mx-[46px] mt-[43px] flex flex-row flex-wrap justify-center gap-x-[120px] gap-y-[60px]",children:F.map((function(e,t){return(0,a.jsx)("div",{className:"w-[calc((100%_-_120*2px)_/_3)]",children:(0,a.jsx)(rr,(0,v.Z)((0,h.Z)({className:"w-[226px] mx-auto"},e),{index:t,confirm:A,remain_ticket:j}))},t)}))})]})};function or(){var e,t=ve(),n=t.refs,r=t.navIndex,i=t.navData,u=t.network,m=t.scrollToView,h=t.isPointFriendShow,v=t.onClosePointFriend,g=t.isPointDashShow,b=t.onClosePointDash,w=t.isPointRankShow,j=t.onClosePointRank,C=t.isBridgeShow,_=t.onCloseBridge,N=t.loading,k=t.isPortalShow,F=(t.setPortalShow,t.onConnectItem),L=t.onClose,Z=t.loadingKey,E=t.showChat,S=t.showQuest,B=(0,o.bN)().sniffer,I=(0,s.Z)((0,l.Z)(!1),2),A=I[0],M=I[1];return function(e,t){var n=(0,y.useRef)();(0,y.useLayoutEffect)((function(){if(t){var r=new ResizeObserver((function(t){e(null===t||void 0===t?void 0:t[0])}));t&&r.observe(t),n.current=r}}),[e,t]),(0,y.useCallback)((function(){var e,r;n&&(t&&(null===(e=n.current)||void 0===e||e.unobserve(t)),null===(r=n.current)||void 0===r||r.disconnect())}),[t])}((0,c.Z)((function(e){e&&(e.contentRect.width<1600?M.setFalse():M.setTrue())}),{wait:500}).run,n.root.current),(0,a.jsxs)(a.Fragment,{children:[!B.isMobile&&!B.isChrome&&(0,a.jsx)("p",{className:"w-full fixed top-15 z-[10] font-poppins text-x-xs text-white text-center bg-black/80 h-10 leading-10 font-xextralight",children:"For the best experience, please access our event using Google Chrome to avoid any display issues."}),(0,a.jsxs)("main",{ref:null===n||void 0===n?void 0:n.root,className:d()("bg-[#424DA5] relative pb-15",N&&"max-h-0 !p-0 overflow-hidden"),children:[(0,a.jsx)("img",{className:"w-full absolute top-0",src:"/images/palio/bg/top.png",alt:""}),(0,a.jsx)("img",{className:"w-full absolute bottom-0",src:"/images/palio/bg/bottom.png",alt:""}),(0,a.jsx)(et,{}),(0,a.jsxs)("section",{className:d()("w-[1024px] mt-[104px] mx-auto font-poppins text-x-xs text-xwhite relative rounded-3xl pb-[60px]",Xe()["card-bg"]),children:[(0,a.jsx)(Vn,{}),(0,a.jsx)(gn,{}),E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Qe,{}),(0,a.jsx)("p",{className:"text-[#6D76BB] text-x-sm text-center pt-7 font-poppins",children:"We are dedicated to fostering positivity in our community. However, we are not liable for possible insults and will intervene as needed."})]})]}),(0,a.jsxs)(Hn,{children:[S&&(0,a.jsx)(zn,{id:"quest"}),(0,a.jsx)(ar,{id:"vote"})]}),A&&!N&&(0,a.jsx)(Tt,{data:i,index:r,onIndexChange:function(e){return m(e.id)}})]}),N?(0,a.jsx)("div",{className:"fixed w-screen h-screen flex items-center justify-center bg-[#424DA5] z-[11]",children:(0,a.jsx)(f.IV,{size:60})}):null,(0,a.jsx)(x.P,{isOpen:k,onConnectItem:F,onClose:L,loadingKey:Z}),(0,a.jsx)(ht,{isOpen:g,onClose:b}),(0,a.jsx)(jt,{isOpen:w,onClose:j}),(0,a.jsx)(Ct,{isOpen:h,onClose:v}),(0,a.jsx)(tt,{isOpen:C,onClose:_,chainId:null===(e=p.Jv[u])||void 0===e?void 0:e.chainId})]})}function sr(){return(0,o.bN)().sniffer.isMobile?(0,a.jsxs)("section",{className:"relative bg-[#424DA5] min-h-[100vh] text-center flex flex-col justify-center pb-5",children:[(0,a.jsx)("img",{className:"fixed z-0 top-0 w-screen",src:"/images/palio/h5/top.png",alt:""}),(0,a.jsx)("img",{className:"fixed z-0 bottom-0 w-screen",src:"/images/palio/h5/bottom.png",alt:""}),(0,a.jsx)("img",{className:"relative -left-1 z-[1]",src:"/images/palio/h5/egg.png",alt:""}),(0,a.jsx)("p",{className:"relative z-[1] font-[AaHuanLeBao] text-[26px] leading-[30px] pt-4 text-white px-6",children:"To fully enjoy the Odyssey\uff01"}),(0,a.jsx)("p",{className:"relative z-[1] px-[50px] font-poppins text-base leading-5 mt-8 text-white/60",children:"We recommend using a desktop browser to ensure all content is displayed correctly."})]}):(0,a.jsx)(he,{children:(0,a.jsx)(or,{})})}},59084:function(e,t,n){"use strict";n.d(t,{Bh:function(){return p},EC:function(){return d},Ig:function(){return c},h7:function(){return u}});var r=n(47568),i=n(26042),a=n(69396),o=n(34051),s=n.n(o),l=n(19848),c=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r,o,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:0,e.next=3,(0,l.UT)("/account/v1/wallet?auto_login=".concat(r),{address:t,type:"eth",sign:n}).catch((function(e){return{account:e.data,error:!0,err_code:e.err_code}}));case 3:return o=e.sent,e.abrupt("return",(null===o||void 0===o?void 0:o.error)?o:(0,a.Z)((0,i.Z)({},o),{error:!1}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(t,n,r){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.UT)("/account/v1/wallet/pn",{address:t,pn_uuid:n,pn_token:r}).catch((function(e){return{error:!0,err_code:e.err_code}}));case 2:return i=e.sent,e.abrupt("return",(null===i||void 0===i?void 0:i.error)?i:{error:!1});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.qM)("/account/v1/wallet/eth/".concat(t),{address:t,type:"eth"}).catch((function(e){return{error:!0,err_code:e.err_code}}));case 2:return n=e.sent,e.abrupt("return",(null===n||void 0===n?void 0:n.error)?n:{error:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.pv)("/account/v1/wallet/nonce/".concat(t)).catch((function(){return{message:""}}));case 2:return n=e.sent.message,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},49574:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var r=n(85893),i=n(77058),a=n(68391),o=n(9789),s=n(36089),l=n(96240),c=n(29676),u=function(e){var t=e.isOpen,n=e.loadingKey,u=e.onClose,d=e.onConnectItem,p=(0,i.$)().t,f=(0,a.bN)().sniffer;return(0,r.jsxs)(c.$,{width:520,className:"md:pt-8 h5:pt-10",contentClass:"px-10",hideButtons:!0,onClose:u,isOpen:t,children:[(0,r.jsx)("h2",{className:"pb-3 flex justify-center font-termina text-x-base font-bold  text-xdarkblue ",children:p("wallet.connectTitle")}),(0,r.jsx)("span",{className:"font-poppins font-xextralight text-x-sm leading-[1.4] md:leading-none text-black/60 flex justify-center text-center",children:p("wallet.connectDesc")}),(0,r.jsx)("div",{className:"pb-6 pt-6 md:pt-8",children:o.Ob.filter((function(e){return!(f.isMobile&&"SAFEPAL"===e.text)})).map((function(e){var t=e.text,i=e.Icon,a=e.onConnectKey,o=n===a;return(0,r.jsx)(s.L,{icon:i,text:t,onClick:function(){return!n&&d(a,t)},rightIcon:o?(0,r.jsx)(l.gb,{variant:"blue",className:"min-w-[16px]",size:16}):void 0},t)}))})]})}},1964:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(47568),i=n(10253),a=n(34051),o=n.n(a),s=n(57495),l=n(67294),c=n(59084),u=n(68391),d=n(92628),p=n(73506),f=n(58672),x=n(99173),m=n(77831);function h(){var e=(0,s.K)(),t=e.account,n=void 0===t?"":t,a=e.library,h=(0,i.Z)((0,m.Zm)(),1)[0],v=(0,f.Z)().t,g=(0,u.k6)().currentPage,b=(0,p.Z)().withLoginCheck,w=(0,u.bN)().login,j=(0,d.l)({duration:null}),C=j.noti,y=j.close,_=(0,d.l)().noti,N=(0,l.useRef)(),k=(0,l.useCallback)((0,r.Z)(o().mark((function e(){var t,r,i,s,l,u,d,p,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,N.current=C("info","Please confirm the transaction in your wallet.",{duration:null}),e.next=5,(0,c.Bh)(n);case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return s=null===(t=a)||void 0===t?void 0:t.getSigner(),e.next=11,null===s||void 0===s?void 0:s.signMessage(i).catch((function(){_("error","You declined the action in your wallet."),r=!0}));case 11:if(l=e.sent,"undefined"!==typeof N.current&&y(N.current),l){e.next=16;break}return!1===r&&_("error","Pair failed."),e.abrupt("return",!1);case 16:return e.next=18,(0,c.Ig)(n,"".concat(l));case 18:if(u=e.sent,d=u.error,p=u.err_code,f=u.account,!d){e.next=32;break}if(n.length,(0,x.dO)("pairWalletResult",{page_title:g,is_success:!1,fail_reason:d}),11402!==p){e.next=28;break}return C("error",v("login.errCode.".concat(p),{uuid:f})),e.abrupt("return",!1);case 28:return _("error",v("login.errCode.".concat(p),{defaultValue:v("login.errCode.unknown")})),e.abrupt("return",!1);case 32:return _("success","Pair successful."),(0,x.dO)("pairWalletResult",{page_title:g,is_success:!0,fail_reason:""}),w(),e.abrupt("return",!0);case 36:case"end":return e.stop()}}),e)}))),[n,a,v,y,g,h,w,_]),F=(0,l.useCallback)((0,r.Z)(o().mark((function e(){var t,r,i,s,l,u,d,p,f,m,h,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,N.current=C("info","Please confirm the transaction in your wallet.",{duration:null}),e.next=5,(0,c.Bh)(n);case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return s=null===(t=a)||void 0===t?void 0:t.getSigner(),e.next=11,null===s||void 0===s?void 0:s.signMessage(i).catch((function(){_("error","You declined the action in your wallet."),r=!0}));case 11:if(l=e.sent,"undefined"!==typeof N.current&&y(N.current),l){e.next=16;break}return!1===r&&_("error","Pair failed."),e.abrupt("return",!1);case 16:return e.next=18,(0,c.Ig)(n,"".concat(l),1);case 18:if(u=e.sent,d=u.error,p=u.err_code,f=u.id_token,m=u.is_new,h=u.access_token,b=u.refresh_token,!d){e.next=30;break}return _("error",v("login.errCode.".concat(p),{defaultValue:v("login.errCode.unknown")})),e.abrupt("return",!1);case 30:return _("success",f?"You have successfully connected to the current address.":"Paired successfully"),(0,x.dO)("pairWalletResult",{page_title:g,is_success:!0,fail_reason:""}),w(f?{id_token:f,is_new:m,access_token:h,refresh_token:b}:void 0),e.abrupt("return",!0);case 34:case"end":return e.stop()}}),e)}))),[C,n,a,_,y,v,g,w]),L=(0,l.useCallback)(function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b((0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.EC)(t);case 2:n=e.sent.error,_(n?"error":"success",n?"Unpair failed":"Unpair successful"),n||w();case 5:case"end":return e.stop()}}),e)}))))();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[_,b,w]);return{link:k,unLink:L,linkWithAutoSwitch:F}}},21066:function(e){e.exports={animation_plusone:"animation_animation_plusone__u0eGK",plusone:"animation_plusone__M0Jl_",animation_number:"animation_animation_number__f4Sck",move:"animation_move__CcPWF","num-bounce":"animation_num-bounce__4OzwK",wave:"animation_wave__KhqBe"}},27518:function(e){e.exports={"text-outline":"components_text-outline__AE1no","card-bg":"components_card-bg__pY6GK","ani-pulse":"components_ani-pulse__nGZco",flash:"components_flash__fBai4",anipulse:"components_anipulse__1i26P"}},64836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[6314,9496,432,8957,7968,9774,2888,179],(function(){return t=48362,e(e.s=t);var t}));var t=e.O();_N_E=t}]);